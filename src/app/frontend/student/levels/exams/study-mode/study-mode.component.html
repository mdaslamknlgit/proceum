 
<div class="mn_dshbrd">
    <div class="hgt_20"></div>
    <div class="sp_mn">
        <div class="brdcrm_br p_1 d-flex ai_cntr" *ngIf="curriculum.length>0">
            <mat-icon color="accent">home</mat-icon>
            <mat-icon>navigate_next</mat-icon><span routerLink="/student/curriculums">QBanks</span> 
            <mat-icon>navigate_next</mat-icon><span routerLink="/student/qbank/create-exam/{{curriculum[0]['pk_id']}}">{{curriculum[0]['curriculumn_name']}}</span> 
            <mat-icon>navigate_next</mat-icon><strong>Study Mode</strong>
        </div>
    </div>
    <div class="hgt_20"></div>
    <div class="tsts_mn stdy_md_qstns {{show_q_numbers == false ? 'tsts_collps':''}} {{ lst_grdclk == false ? '':'qbnk_mn'}}">
        <div class="tsts_qstns_nums">
            <div class="tstsnms_hd_dv">
                <div class="tstsnms_hd">Questions {{questions_list.length}}</div>
                <div class="spacer"></div>
                <div class="tsts_qst_swch grd_lst_vw" (click)="lst_grdclk = !lst_grdclk">
                    <mat-icon color="accent" matTooltip="{{lst_grdclk == false ? 'List View':'Grid View'}}" >{{lst_grdclk == false ? 'list':'grid_view'}}</mat-icon>
                </div>
                <div class="tsts_qst_swch {{show_q_numbers == false ? 'rot_90':'rot_0'}}">
                    <mat-icon color="accent" (click)="show_q_numbers = !show_q_numbers">menu_open</mat-icon>
                </div>
            </div>
            <div class="hgt_20"></div>
            <div class="tstsnms_cnt_dv">
                <ul>
                    <li *ngFor="let q of questions_list; let question_index=index;" class=" {{q['result']}} {{question_index == active_q_index?'gry':''}}" (click)="getQuestionOptions(question_index)">{{question_index+1}} <span class="qstn_elb"><span [innerHTML]="q['question']"></span></span>
                    </li>
                </ul>
            </div>
        </div>
        <div class="tsts_qstns" *ngIf="questions_list.length>0">
            <div class="tstsqst_hd">Question ({{active_q_index+1}}/{{questions_list.length}})</div>
            <div class="hgt_20"></div>
            <div class="tstsqst_qst">
                <span [innerHTML]="active_question['question']"></span>
                <div class="tstsqst_img"
                    *ngIf='[10,11,12].includes(active_question["q_type"]) && active_question["q_source_value"]'>
                    <img [src]="bucket_url+active_question['q_source_value']" alt="">
                </div>
                <div class="tstsqst_img"
                    *ngIf='[4,5,6].includes(active_question["q_type"]) && active_question["q_source_value"]'>
                    <audio controls controlsList="nodownload">
                        <source [src]="bucket_url+active_question['q_source_value']" type="audio/mpeg">
                    </audio>
                </div>
                <div class="tstsqst_img"
                    *ngIf='[7,8,9].includes(active_question["q_type"]) && active_question["q_source_value"]'>

                    <div *ngIf="active_question['q_source'] == 'YOUTUBE'">
                        <iframe
                            [src]='active_question["q_source_value"].replace("/watch?v=","/embed/") | safe: "resourceUrl"'
                            frameborder="0" allowfullscreen></iframe>
                    </div>

                    <div *ngIf="active_question['q_source'] == 'KPOINT'">
                        <iframe [src]='kpoint_iframe_url | safe: "resourceUrl"' allowFullScreen webkitallowFullScreen
                            mozallowFullScreen frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            <div class="tstsqst_ans">
                <mat-radio-group class="" *ngIf='[1,3,4,6,7,9,10,12,13].includes(active_question["q_type"])'
                    [(ngModel)]="active_question['answer'][0]">
                    <div *ngFor="let option of active_question['options']">
                        <mat-radio-button [value]="''+option['pk_id']"
                            class="{{active_question['show_answer'] && active_question['s_no'].includes(''+option['pk_id'])?'actvfr_dsc':''}} {{active_question['show_answer'] && !active_question['s_no'].includes(''+option['pk_id'])?'tstwrng_ans':''}}">
                            {{ option["option_text"] }}
                        </mat-radio-button>
                        <div class="tstsopt_img"
                            *ngIf="active_question['q_source'] == 'IMAGE' && option['option_image']">
                            <img [src]="bucket_url+option['option_image']" />
                        </div>
                        <div class="rdo_desc"
                            *ngIf="active_question['show_answer'] && option['option_explanation'] != null && option['option_explanation'].trim() != ''">
                            <span [innerHtml]="option['option_explanation']"></span>
                        </div>
                    </div>
                </mat-radio-group>
                <div *ngIf='[2,5,8,11].includes(active_question["q_type"])'>
                    <div *ngFor="let option of active_question['options']; let i_option = index">
                        <mat-checkbox
                            class="{{active_question['show_answer'] && active_question['s_no'].includes(''+option['pk_id'])?'actvfr_dsc':''}} {{active_question['show_answer'] && !active_question['s_no'].includes(''+option['pk_id'])?'tstwrng_ans':''}}"
                            [checked]="active_question['answer'].includes(''+option['pk_id'])"
                            (change)="setAnswer($event,option['pk_id'])">{{ option["option_text"] }}</mat-checkbox>
                        <div class="tstsqst_img">
                            <img *ngIf="active_question['q_source'] == 'IMAGE' && option['option_image']"
                                [src]="bucket_url+option['option_image']" />
                        </div>
                        <div class="rdo_desc"
                            *ngIf="active_question['show_answer'] && option['option_explanation'] != null && option['option_explanation'].trim() != ''">
                            <div class="qstn_hds">Explanation</div>
                            <div [innerHtml]="option['option_explanation']"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tstsqst_navs" *ngIf="questions_list.length>0">
                <button mat-raised-button color="accent" [disabled]="active_q_index == 0"
                    (click)="getQuestionOptions(active_q_index-1)">
                    <mat-icon>arrow_left</mat-icon> Prev
                </button>
                <button [disabled]="active_question['answer'].length==0" mat-raised-button color="accent"
                    (click)="checkAnswer()" class="skp_btn {{active_question['answer'].length==0?'gry_btn':''}}">Check
                    Answer <mat-icon>subdirectory_arrow_right
                    </mat-icon>
                </button>
                <button mat-raised-button color="accent" [disabled]="active_q_index == (questions_list.length-1)"
                    (click)="getQuestionOptions(active_q_index+1)">Next <mat-icon>arrow_right</mat-icon>
                </button>
            </div>
        </div>
        <!-- <div class="tsts_qstns">
            <div class="tstsqst_hd d-flex">
                <div>Question (5/40)</div>
                <div class="qt_lbl">
                    MCQ Question
                </div>
            </div>
            <div class="hgt_10"></div>
            <div class="tstsqst_qst">
                An 86-year-old woman is brought to the emergency department by her niece because the patient felt like
                she was spinning and about to topple over. This occurred around 4 hours ago, and although symptoms have
                improved, she still feels like she is being pulled to the right side. Her vital signs include: blood
                pressure 116/75 mm Hg, pulse 90/min, and SpO2 99% on room air. Physical examination reveals right-sided
                limb ataxia along with hypoalgesia and decreased temperature sensation on the right side of the face and
                left side of the body. An urgent noncontrast CT scan of the head shows no evidence of hemorrhage. What
                other finding is most likely to be present in this patient?
                <div class="tstsqst_img">
                    <img src="../../../assets/images/testimonial-img-1.png">
                </div>
            </div>
            <div class="tstsqst_ans">
                <mat-radio-group>
                    <mat-radio-button value="1" class="tstwrng_ans wrng_rdo">Option 1</mat-radio-button>
                    <mat-radio-button value="2" class="actvfr_dsc crrct_rdo">Option 2</mat-radio-button>
                    <mat-radio-button value="3" class="tstwrng_ans wrng_rdo">Option 2</mat-radio-button>
                    <mat-radio-button value="4" class="actvfr_dsc crrct_rdo">Option 2</mat-radio-button>
                    <div class="rdo_desc">Zwei flinke Boxer jagen die quirlige Eva und ihren Mops durch Sylt. Franz jagt
                        im komplett verwahrlosten Taxi quer durch Bayern. Zwölf Boxkämpfer jagen Viktor quer über den
                        großen Sylter Deich. Vogel Quax zwickt Johnys Pferd Bim. Sylvia wagt quick den Jux bei
                        Pforzheim. Polyfon zwitschernd aßen Mäxchens Vögel Rüben, Joghurt und Quark. "Fix, Schwyz!"
                        quäkt Jürgen blöd vom Paß. Victor jagt zwölf Boxkämpfer quer über den großen Sylter Deich.
                        Falsches Üben von Xylophonmusik quält jeden größeren Zwerg. Heizölrückstoßabdämpfung</div>
                </mat-radio-group>
                <mat-checkbox class="wrng_rdo">Checkbox 1</mat-checkbox>
                <mat-checkbox>Checkbox 1</mat-checkbox>
                <mat-checkbox>Checkbox 1</mat-checkbox>
            </div>
            <div class="tstsqst_navs">
                <button mat-raised-button color="accent">
                    <mat-icon>arrow_left</mat-icon> Prev
                </button>
                <button mat-raised-button color="accent" >Next <mat-icon>arrow_right</mat-icon>
                </button>
            </div>
        </div> -->
    </div>
</div>