<app-topbar class="inner-header"></app-topbar>
<app-sidemenu></app-sidemenu>
<div class="mn_dshbrd">
    <div class="brd_crm">Proceum &raquo; <span routerLink="pricing-and-packages"><strong>Pricing &
                Packages</strong></span> &raquo; Details</div>
    <div class="pg_ttl">Package Details</div>
    <div class="hgt_20"></div>
    <div class="crs_innr_par">
        <div class="crs_innr_chld">
            <div class="crs_innr_lgo">
                <div class="crs_icn grn_bg m_auto" *ngIf="package.package_img">
                    <img src="{{ package.package_img }}" alt="">
                </div>
                <div class="crs_icn grn_bg m_auto" *ngIf="!package.package_img || package.package_img == null">
                    <mat-icon>work_outline</mat-icon>
                </div>
            </div>
            <div class="crs_innr_dsc">
                <div class="crs_innr_hd">
                    {{ package.package_name }} {{package_avg_rating}}
                </div>
                <div class="hgt_10"></div>
                <div class="rtng_par">
                    <div class="crs_rtng str_slctd">
                        <mat-icon class="{{package_avg_rating > 0 ?'ct_slctd':''}}">star</mat-icon>
                        <mat-icon class="hlf_str1 {{package_avg_rating > 0.5 ?'ct_slctd':''}}" >star</mat-icon>
                        <mat-icon class="{{package_avg_rating > 1 ?'ct_slctd':''}}">star</mat-icon>
                        <mat-icon class="hlf_str2 {{package_avg_rating > 1.5?'ct_slctd':''}}" >star</mat-icon>
                        <mat-icon class="{{package_avg_rating > 2?'ct_slctd':''}}">star</mat-icon>
                        <mat-icon class="hlf_str3 {{package_avg_rating > 2.5?'ct_slctd':''}}" >star</mat-icon>
                        <mat-icon class="{{package_avg_rating > 3 ?'ct_slctd':''}}">star</mat-icon>
                        <mat-icon class="hlf_str4 {{package_avg_rating > 3.5 ?'ct_slctd':''}}" >star</mat-icon>
                        <mat-icon class="{{package_avg_rating > 4 ?'ct_slctd':''}}">star</mat-icon>
                        <mat-icon class="hlf_str5 {{package_avg_rating > 4.5?'ct_slctd':''}}" >star</mat-icon>
                    </div>
                </div>
                <div class="hgt_10"></div>
                <div class="crs_innr_prc">
                    <span class="bld_txt_blk" [innerHtml]="localPrice(package_prices)"></span>
                </div>
                <div class="crs_dsc"  *ngIf="package.package_desc">
                    {{ (package.package_desc.length > 200) ? ( package.package_desc | slice:0:200 ) + '..' : (package.package_desc) }}
                </div>
                
                <hr class="wht_hr">
                <div class="crs_d_r_p">
                    <span *ngIf="package.converted_duration">
                        <mat-icon>timelapse</mat-icon> {{ package.converted_duration }}
                    </span>
                    <!-- <span>
                        <mat-icon>favorite_border</mat-icon> 3445
                    </span> -->
                </div>
                <div class="bn_btn_dv grn_bg rsp_m_auto">
                    <mat-icon>shopping_cart</mat-icon> Buy Now
                </div>
            </div>
            <div class="crs_innr_dets">
                <span class="crs_dets_hd">Course details</span>
                <ul class="crs_innr_dets_tbl">
                    <li *ngIf="package.converted_duration">
                        <span class="dets_tbl_hd">Length</span>
                        <span class="dets_tbl_cnt">{{ package.converted_duration }}</span>
                    </li>
                    <li *ngIf="package.billing_frequency">
                        <span class="dets_tbl_hd">Billing Frequency</span>
                        <span class="dets_tbl_cnt">{{ package.billing_frequency }}</span>
                    </li>
                    <li *ngIf="package.pricing_model">
                        <span class="dets_tbl_hd">Pricing</span>
                        <span class="dets_tbl_cnt">{{ package.pricing_model }}</span>
                    </li>
                    <li *ngIf="package.valid_up_to">
                        <span class="dets_tbl_hd">Available Till</span>
                        <span class="dets_tbl_cnt">{{ package.valid_up_to }}</span>
                    </li>
                </ul>
            </div>
        </div>
        <div class="hgt_20"></div>
        <div class="crs_tbbd_sc">
            <mat-tab-group>
                <mat-tab>
                    <ng-template mat-tab-label>
                        <mat-icon>description</mat-icon>
                        Description
                    </ng-template>
                    <div class="crs_tbbs_cnt">
                        {{package.package_desc}}
                    </div>
                    <div class="hgt_20"></div>
                </mat-tab>
                
                <mat-tab>
                    <ng-template mat-tab-label>
                        <mat-icon>topic</mat-icon>
                        Topics
                    </ng-template>
                    <div class="crs_tbbs_cnt">
                        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
                            <!-- This is the tree node template for leaf nodes -->
                            <!-- There is inline padding applied to this node using styles.
                              This padding value depends on the mat-icon-button width. -->
                            <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                                {{node.name}}
                            </mat-tree-node>
                            <!-- This is the tree node template for expandable nodes -->
                            <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                                <div class="mat-tree-node">
                                  <button mat-icon-button matTreeNodeToggle
                                          [attr.aria-label]="'Toggle ' + node.name">
                                    <mat-icon class="mat-icon-rtl-mirror">
                                      {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                                    </mat-icon>
                                  </button>
                                  {{node.name}}
                                </div>
                                <!-- There is inline padding applied to this div using styles.
                                    This padding value depends on the mat-icon-button width.  -->
                                <div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
                                    role="group">
                                  <ng-container matTreeNodeOutlet></ng-container>
                              </div>
                            </mat-nested-tree-node>
                          </mat-tree>   
                    </div>
                </mat-tab>


                <mat-tab>
                    <ng-template mat-tab-label>
                        <mat-icon>person</mat-icon>
                        Testimonials
                    </ng-template>
                    <div class="testi_mo_mn">
                        <div class="testi_hd">
                            Testimonials
                        </div>
                        <div class="testi_cnt mt_05" *ngIf="testimonials.length > 0">
                            <div class="testi_dv" *ngFor="let testimonial of testimonials">
                                <div class="testi_aa">
                                    <div class="testi_pp" *ngIf="testimonial.profile_pic">
                                        <img src="{{ testimonial.profile_pic }}">
                                    </div>
                                    <div class="testi_pp" *ngIf="!testimonial.profile_pic">
                                        <img src="../../../assets/images/out-story-img.jpeg">
                                    </div>
                                    <div class="testi_rt">
                                        <div>
                                            {{ testimonial.first_name}}  {{testimonial.last_name }}
                                        </div>
                                        <div class="rtng_par">
                                            <div class="crs_rtng">
                                                <mat-icon class="{{testimonial.rating > 0 ?'ct_slctd':''}}">star</mat-icon>
                                                <mat-icon class="hlf_str1 {{testimonial.rating > 0.5 ?'ct_slctd':''}}" >star</mat-icon>
                                                <mat-icon class="{{testimonial.rating > 1 ?'ct_slctd':''}}">star</mat-icon>
                                                <mat-icon class="hlf_str2 {{testimonial.rating > 1.5?'ct_slctd':''}}" >star</mat-icon>
                                                <mat-icon class="{{testimonial.rating > 2?'ct_slctd':''}}">star</mat-icon>
                                                <mat-icon class="hlf_str3 {{testimonial.rating > 2.5?'ct_slctd':''}}" >star</mat-icon>
                                                <mat-icon class="{{testimonial.rating > 3 ?'ct_slctd':''}}">star</mat-icon>
                                                <mat-icon class="hlf_str4 {{testimonial.rating > 3.5 ?'ct_slctd':''}}" >star</mat-icon>
                                                <mat-icon class="{{testimonial.rating > 4 ?'ct_slctd':''}}">star</mat-icon>
                                                <mat-icon class="hlf_str5 {{testimonial.rating > 4.5?'ct_slctd':''}}" >star</mat-icon>
                                            </div>
                                            <div>
                                                {{ testimonial.rating }}/5
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="testi_ab mt_05">
                                    <!-- <div class="testi_ac">
                                        An awesome activity to experience
                                    </div> -->
                                    <div class="testi_ad">
                                        {{ testimonial.review }}
                                    </div>
                                    <div class="testi_ae">
                                        {{ testimonial.created_at }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="hgt_20"></div>
                        <div class="testi_hd">
                            Write Review
                        </div>
                        <form #review_form="ngForm" name="review_form" (ngSubmit)="review_form.valid && addReview()" autocomplete="off">
                            <div class="wr_mn dsh_brd_crds">
                                <div class="wr_yr mt_1">
                                    <div>Your Rating</div>
                                    <div class="rtng_par bb_0">
                                        <div class="crs_rtng">
                                            <mat-icon class="{{rating > 0 ?'ct_slctd':''}}" (click)="setRating(0.5)">star</mat-icon>
                                            <mat-icon class="hlf_str1 {{rating > 0.5 ?'ct_slctd':''}}" (click)="setRating(1)">star</mat-icon>
                                            <mat-icon class="{{rating > 1 ?'ct_slctd':''}}" (click)="setRating(1.5)">star</mat-icon>
                                            <mat-icon class="hlf_str2 {{rating > 1.5?'ct_slctd':''}}" (click)="setRating(2)">star</mat-icon>
                                            <mat-icon class="{{rating > 2?'ct_slctd':''}}" (click)="setRating(2.5)">star</mat-icon>
                                            <mat-icon class="hlf_str3 {{rating > 2.5?'ct_slctd':''}}" (click)="setRating(3)">star</mat-icon>
                                            <mat-icon class="{{rating > 3 ?'ct_slctd':''}}" (click)="setRating(3.5)">star</mat-icon>
                                            <mat-icon class="hlf_str4 {{rating > 3.5 ?'ct_slctd':''}}" (click)="setRating(4)">star</mat-icon>
                                            <mat-icon class="{{rating > 4 ?'ct_slctd':''}}" (click)="setRating(4.5)">star</mat-icon>
                                            <mat-icon class="hlf_str5 {{rating > 4.5?'ct_slctd':''}}" (click)="setRating(5)">star</mat-icon>
                                        </div>
                                        <div>
                                            {{rating}}/5
                                        </div>
                                    </div>
                                    <div class="mt_1">Write Your Review</div>
                                    <div class="err_tltp_par">
                                        <mat-form-field appearance="outline" class=" w_100p">
                                            <textarea matInput class="hgt_100px" placeholder="Write Your Review" [(ngModel)]="review" name="rating_review" #rating_review="ngModel" required></textarea>
                                        </mat-form-field>
                                        <span class="prc_tltp" *ngIf="(review_form.submitted || rating_review.touched) && review == ''">Please write some review!</span>
                                    </div>

                                    <div class="text_right">
                                        <button type="submit" mat-raised-button color="accent">Submit</button>
                                    </div>
                                </div>

                            </div>
                        </form>

                    </div>
                </mat-tab>

                <mat-tab *ngIf="sample_videos.length > 0">
                    <ng-template mat-tab-label>
                        <mat-icon>videocam</mat-icon>
                        Sample
                    </ng-template>
                    <div class="crs_par">
                        <div class="crs_chld" *ngFor="let video of sample_videos">
                            <div *ngIf="video.source_type=='YOUTUBE'">
                                <iframe [width]="iframe_width" [height]="iframe_height" [src]="video.embed_link" allowfullscreen></iframe>
                                <span>{{video.title}}</span>
                            </div>
                            
                        </div>

                    </div>
                </mat-tab>


                <mat-tab *ngIf="faqs.length > 0">
                    <ng-template mat-tab-label>
                        <mat-icon>help_outline</mat-icon>
                        FAQs
                    </ng-template>
                    <div class="crs_tbbs_cnt">
                        <ul style="list-style-type:none;" *ngFor="let faq of faqs;let i = index">
                            <li><b>Q :   {{ faq.question }} </b></li>
                            <li><b>Ans : </b>  {{ faq.answer }} </li>
                            <div class="hgt_20"></div>
                        </ul>
                    </div>
                </mat-tab>

            </mat-tab-group>
        </div>
    </div>
</div>
<app-footer></app-footer>