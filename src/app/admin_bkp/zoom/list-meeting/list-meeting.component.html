<div class="mn_dshbrd">
    <div class="brd_crm">{{"proceum_text"|translate}} &raquo; <strong>{{"admin.class.list.classes_list"|translate}}</strong></div>
    <div class="d-flex rsp_fw">
        <div class="pg_ttl">{{"admin.class.list.classes_list"|translate}}</div>
    </div>
    <hr />
    <div class="dsh_brd_crds">
        <mat-form-field appearance="outline">
            <input matInput maxlength="255" [(ngModel)]="search_box" (keyup)="$event.keyCode == 13 ? doFilter() : ''"
              placeholder="{{'search_text'|translate}}" />
            <mat-icon class="curserToPointer" (click)="doFilter()" matSuffix>search</mat-icon>
          </mat-form-field>
          <button mat-raised-button routerLink="/teacher/class/create" color="accent" class="float_right margin-bottom_20" type="button">
            {{"admin.class.list.new_class"|translate}}
          </button>
        <div class="rsp_tbl">
            <table mat-table [dataSource]="dataSource">

                <!--- Note that these columns can be defined in any order.
                      The actual rendered columns are set as a property on the row definition" -->

                <!-- Position Column -->
                <ng-container matColumnDef="s_no">
                    <th mat-header-cell *matHeaderCellDef> {{"s_no_text"|translate}} </th>
                    <td mat-cell *matCellDef="let element; let index=index"> {{index+1}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="topic">
                    <th mat-header-cell *matHeaderCellDef> {{"admin.class.list.topic"|translate}} </th>
                    <td mat-cell *matCellDef="let element"> {{element.topic}} </td>
                </ng-container>

                <!-- Weight Column -->
                <ng-container matColumnDef="start_time">
                    <th mat-header-cell *matHeaderCellDef> {{"admin.class.list.start_time"|translate}} </th>
                    <td mat-cell *matCellDef="let element"> {{element.start_at}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="duration">
                    <th mat-header-cell *matHeaderCellDef>{{"admin.class.list.duration"|translate}} </th>
                    <td mat-cell *matCellDef="let element"> {{element.duration}} {{"min_text"|translate}}</td>
                </ng-container>

                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef> {{"admin.class.list.type"|translate}} </th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.type==2" [translate]="'admin.class.list.meeting'"></span>
                        <span *ngIf="element.type!=2" [translate]="'admin.class.list.webinar'"></span> 
                    </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> {{"admin.class.list.status"|translate}} </th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.status == 0" [translate]="'admin.class.list.not_started'"></span>  
                        <span *ngIf="element.status == 1" [translate]="'admin.class.list.in_progress'"></span>  
                        <span *ngIf="element.status == 2" [translate]="'admin.class.list.ended'"></span>  
                        <span *ngIf="element.status == 3" [translate]="'admin.class.list.canceled'"></span>  
                    </td>
                </ng-container>

                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> {{"admin.class.list.actions"|translate}} </th>
                    <td mat-cell *matCellDef="let element; let index=index;"> 
                        <button type="button"  mat-icon-button color="accent" *ngIf="element.status == 0 || element.status == 1" (click)="startClass(element.meeting_id)" matTooltip="{{'admin.class.list.click_to_start_class'|translate}}">
                            {{'admin.class.list.start'|translate}}
                        </button>
                        <button routerLink="/teacher/class/edit/{{element.meeting_id}}" *ngIf="element['show_edit']" mat-icon-button color="accent" matTooltip="{{'click_to_edit_text'|translate}}">
                            <mat-icon>edit_note</mat-icon>
                        </button>
                        <button [disabled]="element.status > 0" *ngIf="element.status == 0" mat-icon-button color="warn" mwlConfirmationPopover [popoverTitle]="'are_you_sure_text'|translate" [popoverMessage]="are_you_sure_to_cancel_text+'<b>' + element.topic + '</b> '" placement="left" (confirm)="cancelClass(element.meeting_id, index)" confirmButtonType="danger" cancelButtonType="outline-secondary"  matTooltip="{{'click_to_cancel_text'|translate}}">
                            <mat-icon>remove_circle_outline</mat-icon>
                        </button>    
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                    <td style="text-align: center; margin: 20px" class="mat-cell" colspan="7">
                      {{"no_records_found_text"|translate}}
                    </td>
                  </tr>
            </table>
        </div>
        <mat-paginator *ngIf="dataSource.data.length > 0" [pageSizeOptions]="page_size_options" [length]="totalSize"
            [pageSize]="pageSize" showFirstLastButtons (page)="getServerData($event)"></mat-paginator>
    </div>
</div>