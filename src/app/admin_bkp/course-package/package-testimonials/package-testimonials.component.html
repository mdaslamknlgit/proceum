
<div class="mn_dshbrd">
    <div class="brd_crm">Proceum &raquo; <span routerLink="/admin/prices-package-management"><strong>Pricing &amp; Package Management</strong></span> &raquo; <strong>Testimonials</strong></div>
<div class="pg_ttl">Manage Testimonials</div>
    <hr />
    <div class="dsh_brd_crds">
        <div class="d_flx_ac">
            <mat-form-field appearance="outline" class="mr_1">
                <input matInput [(ngModel)]="search_box" (keyup)="$event.keyCode == 13 ? doFilter() : ''"
                    placeholder="Search" />
                <mat-icon (click)="doFilter()" matSuffix>search</mat-icon>
            </mat-form-field>
            <mat-form-field appearance="outline" class="mr_1">
                <input matInput [max]="today" [matDatepicker]="from_picker" [(ngModel)]="from_date" readonly placeholder="From Date" />
                <mat-datepicker-toggle matSuffix [for]="from_picker"></mat-datepicker-toggle>
                <mat-datepicker #from_picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field appearance="outline" class="mr_1">
                <input matInput [min]="from_date" [matDatepicker]="to_picker" [(ngModel)]="to_date" [disabled]="!from_date" readonly placeholder="To Date" />
                <mat-datepicker-toggle matSuffix [for]="to_picker"></mat-datepicker-toggle>
                <mat-datepicker #to_picker></mat-datepicker>
            </mat-form-field>
            <button mat-raised-button color="accent" class="float_right mr_1 btn_st_frm" (click)="doFilter()"
            [disabled]="!from_date || !to_date">
            Submit
            </button>
            <button mat-raised-button class="float_right mr_1 btn_st_frm" (click)="resetFilters()" color="warn"  matTooltip="Reset">
                <mat-icon>restart_alt</mat-icon>
            </button>
            <div class="spacer"></div>
        </div>
        <div>
            <div class="rsp_tbl">
                <table mat-table [dataSource]="dataSource" matSort>
                    <!-- Position Column -->
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef>S.No</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.s_no }}
                        </td>
                    </ng-container>
    
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                            Name
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <span>{{ element.name }}</span>
                        </td>
                    </ng-container>
    
                    <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                            Email
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <span>{{ element.email }}</span>
                        </td>
                    </ng-container>
    
                    <ng-container matColumnDef="rating">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                            Rating
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="rtng_par bb_0">
                                <div class="crs_rtng">
                                    <mat-icon class="{{element.rating > 0 ?'ct_slctd':''}}"  >star</mat-icon>
                                    <mat-icon class="hlf_str1 {{element.rating > 0.5 ?'ct_slctd':''}}" >star</mat-icon>
                                    <mat-icon class="{{element.rating > 1 ?'ct_slctd':''}}"  >star</mat-icon>
                                    <mat-icon class="hlf_str2 {{element.rating > 1.5?'ct_slctd':''}}" >star</mat-icon>
                                    <mat-icon class="{{element.rating > 2?'ct_slctd':''}}"  >star</mat-icon>
                                    <mat-icon class="hlf_str3 {{element.rating > 2.5?'ct_slctd':''}}" >star</mat-icon>
                                    <mat-icon class="{{element.rating > 3 ?'ct_slctd':''}}"  >star</mat-icon>
                                    <mat-icon class="hlf_str4 {{element.rating > 3.5 ?'ct_slctd':''}}" >star</mat-icon>
                                    <mat-icon class="{{element.rating > 4 ?'ct_slctd':''}}"  >star</mat-icon>
                                    <mat-icon class="hlf_str5 {{element.rating > 4.5?'ct_slctd':''}}" >star</mat-icon>
                                </div>
                            </div>
                        </td>
                    </ng-container>
    
                    <ng-container matColumnDef="package_name">
                        <th mat-header-cell *matHeaderCellDef cdkDrag>
                            Package
                        </th>
                        <td mat-cell *matCellDef="let element"><a target="_blank" routerLink="../../package-details/{{ element.package_id }}">{{ element.package_name }}</a></td>
                    </ng-container>

                    <ng-container matColumnDef="created_at">
                        <th mat-header-cell *matHeaderCellDef cdkDrag>
                            Created On
                        </th>
                        <td mat-cell *matCellDef="let element">{{ element.created_at }}</td>
                    </ng-container>
    
                    <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef class="text_center">Actions</th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-icon-button matTooltip="More" color="accent"
                                (click)="showMoreInPopUp(element)">
                                <mat-icon>edit_note</mat-icon>
                            </button>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef cdkDrag>Status</th>
                        <td mat-cell *matCellDef="let element">
                            <mat-slide-toggle (click)="changeStatus(element.id, element.status)" [checked]="element.status == 1 ? true : false" matTooltip="{{element.status == 1 ? 'Make Inactive' : 'Make Active'}}">
                                <!-- {{ element.status == 1 ? 'Active' : 'Inactive'}} -->
                            </mat-slide-toggle>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                    <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                        <td class="mat-cell" colspan="9">No Records Found</td>
                    </tr>
                </table>                     
            </div>
            <mat-paginator [pageSizeOptions]="page_size_options" showFirstLastButtons (page)="getServerData($event)">
            </mat-paginator>
        </div>
        <div class="cust_mdl_par cust_mdl_50p" [ngClass]="{ cust_mdl_opn: edit_model_status }">
            <div class="cust_mdl_chl">
              <div class="pg_ttl">
                Testimonial by {{email}}
                <span class="spacer"></span>
                <button type="button" mat-icon-button (click)="edit_model_status = !edit_model_status">
                  &#x2715;
                </button>
              </div>
              <div class="tbbd_bdy">
                  <div class="tbbd_bdy">
                    <div class="grd_2c no_bxsdw">
                      <div class="hgt_20"></div>
                      <div class="frm_dvs">
                        <span>Package Name</span>
                        <span>
                            <span class="err_tltp_par">
                                <span><a target="_blank" routerLink="../../package-details/{{ package_id }}">{{ package_name }}</a></span>
                          </span>
                        </span>
                      </div>

                      <div class="frm_dvs">
                        <span>User Name</span>
                        <span>
                            <span class="err_tltp_par">
                                <span>{{ name }}</span>
                          </span>
                        </span>
                      </div>

                      <div class="frm_dvs">
                        <span>User Email</span>
                        <span>
                            <span class="err_tltp_par">
                                <span>{{ email }}</span>
                          </span>
                        </span>
                      </div>

                      <div class="frm_dvs">
                        <span>Rating</span>
                        <span>
                            <span class="err_tltp_par">
                                <div class="rtng_par bb_0">
                                    <div class="crs_rtng">
                                        <mat-icon class="{{rating > 0 ?'ct_slctd':''}}"  >star</mat-icon>
                                        <mat-icon class="hlf_str1 {{rating > 0.5 ?'ct_slctd':''}}" >star</mat-icon>
                                        <mat-icon class="{{rating > 1 ?'ct_slctd':''}}"  >star</mat-icon>
                                        <mat-icon class="hlf_str2 {{rating > 1.5?'ct_slctd':''}}" >star</mat-icon>
                                        <mat-icon class="{{rating > 2?'ct_slctd':''}}"  >star</mat-icon>
                                        <mat-icon class="hlf_str3 {{rating > 2.5?'ct_slctd':''}}" >star</mat-icon>
                                        <mat-icon class="{{rating > 3 ?'ct_slctd':''}}"  >star</mat-icon>
                                        <mat-icon class="hlf_str4 {{rating > 3.5 ?'ct_slctd':''}}" >star</mat-icon>
                                        <mat-icon class="{{rating > 4 ?'ct_slctd':''}}"  >star</mat-icon>
                                        <mat-icon class="hlf_str5 {{rating > 4.5?'ct_slctd':''}}" >star</mat-icon>
                                    </div>
                                </div>
                          </span>
                        </span>
                      </div>

                      <div class="frm_dvs">
                        <span>Review</span>
                        <span>
                            <span class="err_tltp_par">
                                <span>{{ review }}</span>
                          </span>
                        </span>
                      </div>

                      <div class="frm_dvs">
                        <span>Status</span>
                        <span>
                            <span class="err_tltp_par">
                                <span><mat-slide-toggle (click)="changeStatus(id, status)" [checked]="status == 1 ? true : false" matTooltip="{{status == 1 ? 'Make Inactive' : 'Make Active'}}">
                                    <!-- {{ element.status == 1 ? 'Active' : 'Inactive'}} -->
                                </mat-slide-toggle></span>
                          </span>
                        </span>
                      </div>
                      
                      
                    </div>
                  </div>
                  <hr />
                  <button mat-raised-button class="float_right mr_1 gry_btn" (click)="edit_model_status = !edit_model_status">
                    Close
                  </button>
                <div class="hgt_20"></div>
              </div>
            </div>
          </div>
    </div>
</div>