<div class="mn_dshbrd dsh_brd_crds qm_mn">
    <div class="brd_crm">
      <span>{{"admin.assessment.report.assessment_result"|translate}}</span>
    </div>
    <div class="d-flex">
      <div class="pg_ttl">{{"admin.assessment.report.assessment_result"|translate}}</div>
      <div class="spacer"></div>
      <div *ngIf="assessment.length>0">
        <a [href]="apiUrl+'assessment/download-report/'+assessment[0]['pk_id']" target="_blank" mat-raised-button color="accent">{{"admin.assessment.report.download"|translate}}</a>
      </div>
    </div>
    <hr>
    <div class="hgt_10"></div>
    <div class="qm_srch">
      <div class="cm_fltr_sc mr_1">
          <div>{{"admin.assessment.report.select_status"|translate}}</div>
          <mat-form-field appearance="outline">
            <mat-select placeholder='{{"admin.assessment.report.select_status"|translate}}' [(ngModel)]="status" (ngModelChange)="applyFilters()" name="status" #question_usage="ngModel" ngModel>
              <mat-option [value]="">{{"admin.assessment.report.select_status"|translate}}</mat-option>
              <mat-option [value]="1">{{"admin.assessment.report.attended"|translate}}</mat-option>
              <mat-option [value]="0">{{"admin.assessment.report.obsent"|translate}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      <div class="clear_fix"></div>
      <div class="cm_fltr_sc mr_1">
        <div class="clear_fix"></div>
        <div>{{"search_text" | translate}}</div>
        <mat-form-field appearance="outline">
          <input matInput matInput [(ngModel)]="search_key" (keyup)="$event.keyCode == 13 ? applyFilters() : ''"
            placeholder='{{"search_text" | translate}}' placeholder="Search" />
          <mat-icon matSuffix (click)="applyFilters()">search</mat-icon>
        </mat-form-field>
      </div>
    </div>
    <div class="hgt_20"></div>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="s_no">
        <th mat-header-cell *matHeaderCellDef>{{"s_no_text" | translate}} </th>
        <td mat-cell *matCellDef="let element;let s_no=index"> {{ s_no+1 }} </td>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> {{"name" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.name}}
        </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> {{"email" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.email}}
        </td>
      </ng-container>
      <ng-container matColumnDef="year">
        <th mat-header-cell *matHeaderCellDef>{{"year" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.year}}
        </td>
      </ng-container>
      <ng-container matColumnDef="semister">
        <th mat-header-cell *matHeaderCellDef> {{"semister" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.semister}}
        </td>
      </ng-container>
      <ng-container matColumnDef="group">
        <th mat-header-cell *matHeaderCellDef> {{"group" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.group}}
        </td>
      </ng-container>
      <ng-container matColumnDef="right">
        <th mat-header-cell *matHeaderCellDef> {{"correct" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.correct}}
        </td>
      </ng-container>
      <ng-container matColumnDef="wrong">
        <th mat-header-cell *matHeaderCellDef> {{"wrong" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.wrong}}
        </td>
      </ng-container>
      <ng-container matColumnDef="percentage">
        <th mat-header-cell *matHeaderCellDef> {{"percentage" | translate}} </th>
        <td mat-cell *matCellDef="let element" class="ws_normal">
          {{element.percentage}}%
        </td>
      </ng-container>
      <ng-container matColumnDef="result">
        <th mat-header-cell *matHeaderCellDef> {{"result" | translate}} </th>
        <td mat-cell *matCellDef="let element">
          {{element.result}}
        </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let element">
            <a [href]="apiUrl+'assessment/download-performance-report/'+assessment[0]['pk_id']+'/'+element['user_id']" target="_blank">Performanc</a>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
      <tr class="mat-row no_rcrds_fd" *matNoDataRow>
        <td class="mat-cell" [attr.colspan]="displayedColumns.length">{{"no_records_found_text"|translate}}</td>
      </tr>
    </table>
    <mat-paginator #paginator [pageSize]="pageSize" [length]="report_count" [pageSizeOptions]="page_size_options"
      [showFirstLastButtons]="true" (page)="getServerData($event)"></mat-paginator>
  </div>