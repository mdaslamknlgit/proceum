<div class="mn_dshbrd">
  <div class="brd_crm">Proceum &raquo; <strong>Discount Settings</strong></div>
  <div class="d-flex">
    <div class="pg_ttl">Discount Settings</div>
    <div class="spacer"></div>
    <div>
      <button mat-raised-button color="accent" class="float_right margin-bottom_20" (click)="toggleModel()"
        type="button">
        Create New Discount
      </button>
    </div>
  </div>


  <hr /> 
  <div class="hgt_20"></div>
  <div class="cust_mdl_par cust_mdl_50p" [ngClass]="{ cust_mdl_opn: model_status }">
    <div class="cust_mdl_chl">
      <div class="pg_ttl">
        Create Discount
        <span class="spacer"></span>
        <button type="button" mat-icon-button (click)="toggleModel()">
          &#x2715;
        </button>
      </div>
      <form id="discount_form" #discount_form="ngForm" name="discount_form"
        (ngSubmit)="discount_form.valid && createDiscount()" novalidate>
        <div class="tbbd_bdy">
          <div class="grd_2c no_bxsdw">
            <span class="text-right w_100p rqrd_txtinfo">
              All <span class="required">( * ) </span>marked fields are
              mandatory</span>
            <div class="hgt_20"></div>

            <!-- Select package -->
            <div class="frm_dvs">
              <span>Select Package <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline" class="mt_05">
                    <mat-select placeholder="Select package"  [(ngModel)]="course" name="course_name" #course_name="ngModel" (ngModelChange)="onPackageChange()" required>
                        <mat-option value=''>Select Package</mat-option>
                        <ng-container *ngFor="let package of all_packages | async">
                            <mat-option [value]="package['pk_id']">
                                {{ package['package_name'] }}
                            </mat-option>
                        </ng-container>
                    </mat-select>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || course_name.touched) &&
                      course_name.invalid
                    ">Course is required</span>
                </span></span>
            </div>

            <!-- Discount type -->
            <div class="frm_dvs">
              <span>Discount Type <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline">
                      <mat-select placeholder="Select Discount Type" name="discount_type_edit" #discount_type_edit="ngModel" [(ngModel)]="discount_type" (ngModelChange)="onDiscountTypeChange()" required>
                        <mat-option value=''>Select Discount Type</mat-option>  
                        <mat-option *ngFor="let item of discount_types" [value]="item.value">{{ item.viewValue }}</mat-option>
                      </mat-select>
                  </mat-form-field>
                  <span *ngIf="(discount_form.submitted || discount_type_edit.touched) &&
                  discount_type_edit.invalid" class="prc_tltp">Discount Type is required
                  </span>
              </span>
              </span>
            </div>
            
            <!-- Min order amount to grab the discount-->
            <!-- <div class="frm_dvs">
              <span>Minimum Order Amount<span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline">
                    <input maxlength="50" appNumbersonly name="min_order_amount_name" [(ngModel)]="min_order_amount" matInput
                      placeholder="Minimum Order Amount" #min_order_amount_name="ngModel" required/>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || min_order_amount_name.touched) &&
                      min_order_amount_name.invalid
                    ">Minimum Order Amount is required</span>
                </span>
              </span>
            </div> -->

            <!-- If discount type is percentage -->
            <div class="frm_dvs" *ngIf="discount_type == 2">
                <span>Discount Percentage (in %)<span class="required">*</span></span>
                <span>
                  <span class="err_tltp_par">
                    <mat-form-field appearance="outline">
                      <input maxlength="50" appNumbersonly name="discount_percente_name" [(ngModel)]="discount_percente" matInput
                        placeholder="Percentage 1 to 99" #discount_percente_name="ngModel" maxlength="2" required/>
                    </mat-form-field>
                    <span class="prc_tltp" *ngIf="
                        (discount_form.submitted || discount_percente_name.touched) &&
                        discount_percente_name.invalid
                      ">Discount Percentage is required</span>
                  </span>
              </span>
            </div>
          
            <!--  If discount type is fixed amount, then allow them to provide fixed amount country wise --->
            <!-- <div class="frm_dvs" *ngIf="discount_type == 1">
                <span>Set Amoumt Country Wise<span class="required">*</span></span>
                <div *ngFor="let price of package_prices;let i = index">
                    <div class="" *ngIf="price['status'] != '0'">
                      <mat-form-field appearance="outline" class="mt_05">
                        <mat-select
                            [(ngModel)]="fixed_amounts[i]['country_id']"
                            name="package_price_country_{{i}}" required>
                            <mat-option value=''>Select Country</mat-option>
                            <ng-container
                                *ngFor="let country of all_countrys | async">
                                <mat-option
                                    [disabled]="selected_countires.indexOf(country['pk_id']) !== -1"
                                    [value]="country['pk_id']"
                                    (click)=" addCurrencyToField(country['currency_text'],i,country['pk_id']);">
                                    {{ country['country_name'] }}
                                </mat-option>
                            </ng-container>
                        </mat-select>
                      </mat-form-field>
                      <mat-form-field appearance="outline" class="mt_05">
                        <input
                            [(ngModel)]="fixed_amounts[i]['amount']"
                            name="fixed_amount_{{i}}" matInput
                            placeholder="{{ fixed_amounts[i]['placeholder'] }}"
                            maxlength="7" appNumbersonly required
                            [disabled]="fixed_amounts[i]['country_id'] == ''" />
                        <span matPrefix></span>
                      </mat-form-field>
                    <div class="mt_6px">
                        <button type="button" (click)="removeFixedAmountField(i)"
                            mat-icon-button class="no_bxsdw" color="warn"
                            *ngIf="i > 0">
                            <mat-icon>remove_circle_outline</mat-icon>
                        </button>
                    </div>

                    </div>
                </div>
                <div class="text_right w_100p" *ngIf="countrys.length > country_dropdown_used_length">
                    <button mat-raised-button color="accent" type="button"
                        (click)="addFixedAmountField()">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
            </div> -->
            <div class="frm_dvs" *ngIf="discount_type == 1 && course">
              <span>Set Fixed Discount Amounts<span class="required">*</span></span>
              <div *ngFor="let price of fixed_amounts;let i = index">
                  <div class="" *ngIf="price['status'] != '0'">
                    <mat-form-field appearance="outline" class="mt_05">
                      <mat-select disabled
                          [(ngModel)]="price['country_id']"
                          name="fixed_amounts_country_{{i}}" placeholder="{{price['country_name']}}" required>
                      </mat-select>
                    </mat-form-field>
                    
                    <mat-form-field appearance="outline" class="mt_05 {{ (discount_form.submitted && (fixed_amounts[i]['discount_amount'] > price['price_amount'])) ? 'mat-form-field-invalid' : ''}}">
                      <input
                          [(ngModel)]="fixed_amounts[i]['discount_amount']"
                          name="fixed_amounts_{{i}}" matInput
                          placeholder="{{ ' Give max discount amount < '+price['price_amount'] }}"
                          maxlength="price['price_amount'].length" appNumbersonly required
                          [disabled]="price['country_id'] == ''" />
                      <span matPrefix>{{ price['currency_text']+' ' }}</span>
                    </mat-form-field>
                </div>
              </div>
            </div>

            <!-- If discount type is percentage, Restrict the maximunm discount amount by Counrty wise--->
            <div class="frm_dvs" *ngIf="discount_type == 2  && course">
              <span>Maximum Discount Amount<span class="required">*</span></span>
              <div *ngFor="let price of package_prices;let i = index">
                  <div class="" *ngIf="price['status'] != '0'">
                    <mat-form-field appearance="outline" class="mt_05">
                      <mat-select disabled
                          [(ngModel)]="price['country_id']"
                          name="package_price_country_{{i}}" placeholder="{{price['country_name']}}" required>
                      </mat-select>
                    </mat-form-field>
                    
                    <mat-form-field appearance="outline" class="mt_05 {{ (discount_form.submitted && (package_prices[i]['discount_amount'] > price['price_amount'])) ? 'mat-form-field-invalid' : ''}}">
                      <input
                          [(ngModel)]="package_prices[i]['discount_amount']"
                          name="package_price__amount_{{i}}" matInput
                          placeholder="{{ ' Give max discount amount < '+price['price_amount'] }}"
                          maxlength="7" appNumbersonly required
                          [disabled]="price['country_id'] == ''" />
                      <span matPrefix>{{ price['currency_text']+' ' }}</span>
                    </mat-form-field>
                </div>
              </div>
            </div>

            <!-- Description -->
            <div class="frm_dvs">
              <span>Description</span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline">
                    <textarea matInput class="crt_prt_txt" placeholder="Enter Description" [(ngModel)]="title" name="title_name" #title_name="ngModel" ></textarea>
                  </mat-form-field>          
                </span>
              </span>
            </div>

            <!-- Discount started from date -->
            <div class="frm_dvs">
              <span>Valid From Date <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline" class="cal_wdth" color="accent">
                    <input placeholder="Select From Date" required name="valid_from_name" #valid_from_name="ngModel"
                      [(ngModel)]="valid_from" matInput [matDatepicker]="picker" autocomplete="off"
                      [min]="today_date" />
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || valid_from_name.touched) &&
                      valid_from_name.invalid
                    ">From Date is required</span>
                </span>
              </span>
            </div>

            <!-- Discount ended on date -->
            <div class="frm_dvs">
              <span>Valid To Date <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline" class="cal_wdth" color="accent">
                    <input placeholder="Select To Date" required name="valid_to_name" #valid_to_name="ngModel"
                      [(ngModel)]="valid_to" matInput [matDatepicker]="picker2" autocomplete="off" [min]="valid_from" />
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || valid_to_name.touched) &&
                      valid_to_name.invalid
                    ">To Date is required and it should be greater than from
                    date</span>
                </span>
              </span>
            </div>
          </div>
        </div>
        <hr />
        <button mat-raised-button color="accent" class="float_right mr_1">
          Submit
        </button>
        <button mat-raised-button class="float_right mr_1 gry_btn" (click)="toggleModel()">
          Close
        </button>
      </form>
      <div class="hgt_20"></div>
    </div>
  </div>

  <div class="dsh_brd_crds">
    <mat-form-field appearance="outline">
      <input matInput [(ngModel)]="search_box" (keyup)="$event.keyCode == 13 ? doFilter() : ''" placeholder="Search" />
      <mat-icon (click)="doFilter()" matSuffix>search</mat-icon>
    </mat-form-field>
    <div class="rsp_tbl">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- Position Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>S.No</th>
          <td mat-cell *matCellDef="let element">
            {{ element.s_no }}
          </td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
            Description
          </th>
          <td mat-cell *matCellDef="let element">
            <span>{{ element.description }}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="discount_type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
            Discount Type
          </th>
          <td mat-cell *matCellDef="let element">
            <span>{{ element.discount_type | titlecase  }}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="package_name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
            Package Name
          </th>
          <td mat-cell *matCellDef="let element">
            <span>{{ element.package_name }}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef cdkDrag>Status</th>
          <td mat-cell *matCellDef="let element">
            <mat-slide-toggle (click)="deleteDiscount(element.pk_id, element.status)"
            [checked]="element.status == 1 ? true : false"
            matTooltip="{{element.status == 1 ? 'Make Inactive' : 'Make Active'}}">
          </mat-slide-toggle>

            <!-- <span matTooltip="Current Status is {{
                element.status == 1 ? 'ACTIVE' : 'IN-ACTIVE'
              }}" class="{{ element.status == 1 ? 'sts_grn' : 'sts_rd' }}">{{ element.status == 1 ? "Active" :
              "Inactive" }}</span> -->

          </td>
        </ng-container>

        <ng-container matColumnDef="created_at">
          <th mat-header-cell *matHeaderCellDef cdkDrag>Valid From</th>
          <td mat-cell *matCellDef="let element">{{ element.valid_from }}</td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="updated_at">
          <th mat-header-cell *matHeaderCellDef cdkDrag>Valid To</th>
          <td mat-cell *matCellDef="let element">{{ element.valid_to }}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button (click)="editDiscount(element)" color="accent" matTooltip="Click to edit">
              <mat-icon>edit_notes</mat-icon>
            </button>

            
            <!-- <button matTooltip="click here to {{
                element.status == 1 ? 'IN-ACTIVE' : 'ACTIVE'
              }}" mat-icon-button mwlConfirmationPopover [popoverTitle]="'Are you sure?'" [popoverMessage]="
                'Are you sure to change status of <b>' +
                element.title +
                '</b> Discount'
              " placement="auto" (confirm)="deleteDiscount(element.pk_id, element.status)" confirmButtonType="danger"
              cancelButtonType="outline-secondary">
              <mat-icon *ngIf="element.status == 1">visibility_off</mat-icon>
              <mat-icon *ngIf="element.status == 0">visibility</mat-icon>
            </button> -->


          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        <tr class="mat-row no_rcrds_fd" *matNoDataRow>
          <td style="text-align: center; margin: 20px" class="mat-cell" colspan="9">
            No Records Found
          </td>
        </tr>
      </table>
    </div>
    <mat-paginator [pageSizeOptions]="page_size_options" showFirstLastButtons (page)="getServerData($event)">
    </mat-paginator>
  </div>
</div>
<div class="cust_mdl_par cust_mdl_50p" [ngClass]="{ cust_mdl_opn: edit_model_status }">
  <div class="cust_mdl_chl">
    <div class="pg_ttl">
      Discount Edit
      <span class="spacer"></span>
      <button type="button" mat-icon-button (click)="edit_model_status = !edit_model_status">
        &#x2715;
      </button>
    </div>
    <div class="tbbd_bdy">
      <form id="edit_discount_form" #edit_discount_form="ngForm" name="edit_discount_form"
        (ngSubmit)="edit_discount_form.valid && updateDiscount()" novalidate>
        <div class="tbbd_bdy">
          <div class="grd_2c no_bxsdw">
            <span class="text-right w_100p rqrd_txtinfo">
              All <span class="required">( * ) </span>marked fields are
              mandatory</span>
            <div class="hgt_20"></div>

            <!-- Select package -->
            <div class="frm_dvs">
              <span>Select Package <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline" class="mt_05">
                    <mat-select placeholder="Select package"  [(ngModel)]="course" name="course_name" #course_name="ngModel" (ngModelChange)="onPackageChange()" required>
                        <mat-option value=''>Select Package</mat-option>
                        <ng-container *ngFor="let package of all_packages | async">
                            <mat-option [value]="package['pk_id']">
                                {{ package['package_name'] }}
                            </mat-option>
                        </ng-container>
                    </mat-select>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || course_name.touched) &&
                      course_name.invalid
                    ">Course is required</span>
                </span></span>
            </div>

            <!-- Discount type -->
            <div class="frm_dvs">
              <span>Discount Type <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline">
                      <mat-select placeholder="Select Discount Type" name="discount_type_edit" #discount_type_edit="ngModel" [(ngModel)]="discount_type" (ngModelChange)="onDiscountTypeChange()" required>
                        <mat-option value=''>Select Discount Type</mat-option>  
                        <mat-option *ngFor="let item of discount_types" [value]="item.value">{{ item.viewValue }}</mat-option>
                      </mat-select>
                  </mat-form-field>
                  <span *ngIf="(discount_form.submitted || discount_type_edit.touched) &&
                  discount_type_edit.invalid" class="prc_tltp">Discount Type is required
                  </span>
              </span>
              </span>
            </div>
            
            <!-- Min order amount to grab the discount-->
            <!-- <div class="frm_dvs">
              <span>Minimum Order Amount<span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline">
                    <input maxlength="50" appNumbersonly name="min_order_amount_name" [(ngModel)]="min_order_amount" matInput
                      placeholder="Minimum Order Amount" #min_order_amount_name="ngModel" required/>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || min_order_amount_name.touched) &&
                      min_order_amount_name.invalid
                    ">Minimum Order Amount is required</span>
                </span>
              </span>
            </div> -->

            <!-- If discount type is percentage -->
            <div class="frm_dvs" *ngIf="discount_type == 2">
                <span>Discount Percentage (in %)<span class="required">*</span></span>
                <span>
                  <span class="err_tltp_par">
                    <mat-form-field appearance="outline">
                      <input maxlength="50" appNumbersonly name="discount_percente_name" [(ngModel)]="discount_percente" matInput
                        placeholder="Percentage 1 to 99" #discount_percente_name="ngModel" maxlength="2" required/>
                    </mat-form-field>
                    <span class="prc_tltp" *ngIf="
                        (discount_form.submitted || discount_percente_name.touched) &&
                        discount_percente_name.invalid
                      ">Discount Percentage is required</span>
                  </span>
              </span>
            </div>
          
            <!--  If discount type is fixed amount, then allow them to provide fixed amount country wise --->
            <!-- <div class="frm_dvs" *ngIf="discount_type == 1">
                <span>Set Amoumt Country Wise<span class="required">*</span></span>
                <div *ngFor="let price of package_prices;let i = index">
                    <div class="" *ngIf="price['status'] != '0'">
                      <mat-form-field appearance="outline" class="mt_05">
                        <mat-select
                            [(ngModel)]="fixed_amounts[i]['country_id']"
                            name="package_price_country_{{i}}" required>
                            <mat-option value=''>Select Country</mat-option>
                            <ng-container
                                *ngFor="let country of all_countrys | async">
                                <mat-option
                                    [disabled]="selected_countires.indexOf(country['pk_id']) !== -1"
                                    [value]="country['pk_id']"
                                    (click)=" addCurrencyToField(country['currency_text'],i,country['pk_id']);">
                                    {{ country['country_name'] }}
                                </mat-option>
                            </ng-container>
                        </mat-select>
                      </mat-form-field>
                      <mat-form-field appearance="outline" class="mt_05">
                        <input
                            [(ngModel)]="fixed_amounts[i]['amount']"
                            name="fixed_amount_{{i}}" matInput
                            placeholder="{{ fixed_amounts[i]['placeholder'] }}"
                            maxlength="7" appNumbersonly required
                            [disabled]="fixed_amounts[i]['country_id'] == ''" />
                        <span matPrefix></span>
                      </mat-form-field>
                    <div class="mt_6px">
                        <button type="button" (click)="removeFixedAmountField(i)"
                            mat-icon-button class="no_bxsdw" color="warn"
                            *ngIf="i > 0">
                            <mat-icon>remove_circle_outline</mat-icon>
                        </button>
                    </div>

                    </div>
                </div>
                <div class="text_right w_100p" *ngIf="countrys.length > country_dropdown_used_length">
                    <button mat-raised-button color="accent" type="button"
                        (click)="addFixedAmountField()">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
            </div> -->

            <div class="frm_dvs" *ngIf="discount_type == 1 && course">
              <span>Set Fixed Discount Amoumts<span class="required">*</span></span>
              <div *ngFor="let price of fixed_amounts;let i = index">
                  <div class="" *ngIf="price['status'] != '0'">
                    <mat-form-field appearance="outline" class="mt_05">
                      <mat-select disabled
                          [(ngModel)]="price['country_id']"
                          name="fixed_amounts_country_{{i}}" placeholder="{{price['country_name']}}" required>
                      </mat-select>
                    </mat-form-field>
                    
                    <mat-form-field appearance="outline" class="mt_05 {{ (discount_form.submitted && (fixed_amounts[i]['discount_amount'] > price['price_amount'])) ? 'mat-form-field-invalid' : ''}}">
                      <input
                          [(ngModel)]="fixed_amounts[i]['discount_amount']"
                          name="fixed_amounts_{{i}}" matInput
                          placeholder="{{ ' Give max discount amount < '+price['price_amount'] }}"
                          maxlength="price['price_amount'].length" appNumbersonly required
                          [disabled]="price['country_id'] == ''" />
                      <span matPrefix>{{ price['currency_text']+' ' }}</span>
                    </mat-form-field>
                </div>
              </div>
            </div>

            <!-- If discount type is percentage, Restrict the maximunm discount amount by Counrty wise--->
            <div class="frm_dvs" *ngIf="discount_type == 2 && course">
              <span>Maximum Discount Amount<span class="required">*</span></span>
              <div *ngFor="let price of package_prices;let i = index">
                  <div class="" *ngIf="price['status'] != '0'">
                    <mat-form-field appearance="outline" class="mt_05">
                      <mat-select disabled
                          [(ngModel)]="price['country_id']"
                          name="package_price_country_{{i}}" placeholder="{{price['country_name']}}" required>
                      </mat-select>
                    </mat-form-field>
                    
                    <mat-form-field appearance="outline" class="mt_05 {{ (discount_form.submitted && (package_prices[i]['discount_amount'] > price['price_amount'])) ? 'mat-form-field-invalid' : ''}}">
                      <input
                          [(ngModel)]="package_prices[i]['discount_amount']"
                          name="package_price__amount_{{i}}" matInput
                          placeholder="{{ ' Give max discount amount < '+price['price_amount'] }}"
                          maxlength="7" appNumbersonly required
                          [disabled]="price['country_id'] == ''" />
                      <span matPrefix>{{ price['currency_text']+' ' }}</span>
                    </mat-form-field>
                </div>
              </div>
            </div>

            <!-- Description -->
            <div class="frm_dvs">
              <span>Description</span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline">
                    <textarea matInput class="crt_prt_txt" placeholder="Enter Description" [(ngModel)]="title" name="title_name" #title_name="ngModel" ></textarea>
                  </mat-form-field>          
                </span>
              </span>
            </div>

            <!-- Discount started from date -->
            <div class="frm_dvs">
              <span>Valid From Date <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline" class="cal_wdth" color="accent">
                    <input placeholder="Select From Date" required name="valid_from_name" #valid_from_name="ngModel"
                      [(ngModel)]="valid_from" matInput [matDatepicker]="picker" autocomplete="off"
                      [min]="today_date" />
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || valid_from_name.touched) &&
                      valid_from_name.invalid
                    ">From Date is required</span>
                </span>
              </span>
            </div>

            <!-- Discount ended on date -->
            <div class="frm_dvs">
              <span>Valid To Date <span class="required">*</span></span>
              <span>
                <span class="err_tltp_par">
                  <mat-form-field appearance="outline" class="cal_wdth" color="accent">
                    <input placeholder="Select To Date" required name="valid_to_name" #valid_to_name="ngModel"
                      [(ngModel)]="valid_to" matInput [matDatepicker]="picker2" autocomplete="off" [min]="valid_from" />
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                  <span class="prc_tltp" *ngIf="
                      (discount_form.submitted || valid_to_name.touched) &&
                      valid_to_name.invalid
                    ">To Date is required and it should be greater than from
                    date</span>
                </span>
              </span>
            </div>
          </div>
        </div>
        <hr />
        <button mat-raised-button color="accent" class="float_right mr_1">
          Submit
        </button>
        <button mat-raised-button class="float_right mr_1 gry_btn" (click)="edit_model_status = !edit_model_status">
          Close
        </button>
      </form>
      <div class="hgt_20"></div>
    </div>
  </div>
</div>