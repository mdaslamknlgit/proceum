<div class="mn_dshbrd">
    <div class="brd_crm">
        {{"proceum_text"|translate}} &raquo; <strong>{{"admin.year_sem_grp.manage"|translate}} {{"admin.side_menu.year_sem_grp"|translate}} </strong>
    </div>
    <div class="pg_ttl">{{"admin.year_sem_grp.manage"|translate}} {{ page_title }}</div>
    <hr />
    <div class="cc_row">
        <div class="main_video_block">
            <div class="c_block">
                <div class="mn_vd_tbd dsh_brd_crds">
                    <mat-tab-group animationDuration="0.15s" (selectedTabChange)="tabClick($event)">
                        <mat-tab>
                            <ng-template mat-tab-label>
                                {{"admin.year_sem_grp.years"|translate}}
                            </ng-template>
                            <div class="hgt_20"></div>
                            <div>
                                <div class="dsh_brd_crds">
                                    <div class="d-flex rsp_flx_aa">
                                        <div class="xl_srch mr_1">
                                            <mat-form-field appearance="outline" class="w_100p">
                                                <input matInput [(ngModel)]="search_box"
                                                    (keyup)="$event.keyCode == 13 ? doFilter($event) : ''"
                                                    placeholder="{{'search_text'|translate}}" />
                                                <mat-icon (click)="doFilter($event)" matSuffix>search</mat-icon>
                                            </mat-form-field>
                                        </div>
                                        <div>
                                            <button mat-raised-button color="accent" class="mt_3px"
                                                (click)="toggleModel()" type="button">
                                                <mat-icon>add</mat-icon> {{"admin.year_sem_grp.add_new"|translate}}
                                            </button>
                                        </div>
                                    </div>

                                    <div class="rsp_tbl">
                                        <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
                                            <!-- Position Column -->
                                            <ng-container matColumnDef="id">
                                                <th mat-header-cell *matHeaderCellDef>{{"s_no_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{ element.s_no }}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"year"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="organization_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"partner_name"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.organization_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="partner_child_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"admin.year_sem_grp.college_name"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.partner_child_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="status">
                                                <th mat-header-cell *matHeaderCellDef cdkDrag>{{"status_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-slide-toggle (click)="changeStatus(element.id, element.status)"
                                                        [checked]="element.status == 1 ? true : false"
                                                        matTooltip="{{element.status == 1 ? 'Make Inactive' : 'Make Active'}}">
                                                    </mat-slide-toggle>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>{{"actions_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <button mat-icon-button matTooltip="{{'click_to_edit_text'|translate}}" color="accent"
                                                        (click)="getRow(element.id)">
                                                        <mat-icon>edit_note</mat-icon>
                                                    </button>
                                                    <button mwlConfirmationPopover [popoverTitle]="'Are you sure?'"
                                                        [popoverMessage]="
                                                        'Are you sure to delete <b>' + element.name + '</b> '
                                                        " placement="left" (confirm)="deleteRecord(element.id)"
                                                        confirmButtonType="danger" cancelButtonType="outline-secondary"
                                                        mat-icon-button color="warn" matTooltip="{{'delete_text'|translate}}">
                                                        <mat-icon>remove_circle_outline</mat-icon>
                                                    </button>
                                                </td>
                                            </ng-container>
                                            <tr mat-header-row *matHeaderRowDef="displayedColumnsYears"></tr>
                                            <tr mat-row *matRowDef="let row; columns: displayedColumnsYears"></tr>
                                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                                                <td class="mat-cell" [attr.colspan]="displayedColumnsYears.length">{{"no_records_found_text"|translate}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <mat-paginator [pageSizeOptions]="page_size_options" #pagination
                                      [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons (page)="getServerData($event)"></mat-paginator>
                                </div>
                            </div>
                        </mat-tab>

                        <mat-tab>
                            <ng-template mat-tab-label>
                                {{"admin.year_sem_grp.semesters"|translate}}
                            </ng-template>
                            <div class="hgt_20"></div>
                            <div>
                                <div class="dsh_brd_crds">
                                    <div class="d-flex rsp_flx_aa">
                                        <div class="xl_srch mr_1">
                                            <mat-form-field appearance="outline" class="w_100p">
                                                <input matInput [(ngModel)]="search_box"
                                                    (keyup)="$event.keyCode == 13 ? doFilter($event) : ''"
                                                    placeholder="{{'search_text'|translate}}" />
                                                <mat-icon (click)="doFilter($event)" matSuffix>search</mat-icon>
                                            </mat-form-field>
                                        </div>
                                        <div>
                                            <button mat-raised-button class="mt_3px" color="accent"
                                                (click)="toggleModel()" type="button">
                                                <mat-icon>add</mat-icon> {{"admin.year_sem_grp.add_new"|translate}}
                                            </button>
                                        </div>

                                    </div>
                                    <div class="rsp_tbl">
                                        <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
                                            <!-- Position Column -->
                                            <ng-container matColumnDef="id">
                                                <th mat-header-cell *matHeaderCellDef>{{"s_no_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{ element.s_no }}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"semester"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.name }}</span>
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="year_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"year"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.year_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="organization_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"partner_name"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.organization_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="partner_child_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"admin.year_sem_grp.college_name"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.partner_child_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="status">
                                                <th mat-header-cell *matHeaderCellDef cdkDrag>{{"status_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-slide-toggle (click)="changeStatus(element.id, element.status)"
                                                        [checked]="element.status == 1 ? true : false"
                                                        matTooltip="{{element.status == 1 ? 'Make Inactive' : 'Make Active'}}">
                                                    </mat-slide-toggle>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>{{"actions_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <button mat-icon-button matTooltip="{{'click_to_edit_text'|translate}}" color="accent"
                                                        (click)="getRow(element.id)">
                                                        <mat-icon>edit_note</mat-icon>
                                                    </button>
                                                    <button mwlConfirmationPopover [popoverTitle]="'Are you sure?'"
                                                        [popoverMessage]="
                                                        'Are you sure to delete <b>' + element.name + '</b> '
                                                        " placement="left" (confirm)="deleteRecord(element.id)"
                                                        confirmButtonType="danger" cancelButtonType="outline-secondary"
                                                        mat-icon-button color="warn" matTooltip="{{'delete_text'|translate}}">
                                                        <mat-icon>remove_circle_outline</mat-icon>
                                                    </button>
                                                </td>
                                            </ng-container>
                                            <tr mat-header-row *matHeaderRowDef="displayedColumnsSemesters"></tr>
                                            <tr mat-row *matRowDef="let row; columns: displayedColumnsSemesters"></tr>
                                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                                                <td class="mat-cell" [attr.colspan]="displayedColumnsSemesters.length">
                                                    {{"no_records_found_text"|translate}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <mat-paginator *ngIf="dataSource.data.length > 0" [pageSizeOptions]="page_size_options"
                                      [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons (page)="getServerData($event)"></mat-paginator>
                                </div>
                            </div>
                        </mat-tab>

                        <mat-tab>
                            <ng-template mat-tab-label>
                                {{"admin.year_sem_grp.groups"|translate}}
                            </ng-template>
                            <div class="hgt_20"></div>
                            <div>
                                <div class="dsh_brd_crds">
                                    <div class="d-flex rsp_flx_aa">
                                        <div class="xl_srch mr_1">
                                            <mat-form-field appearance="outline" class="w_100p">
                                                <input matInput [(ngModel)]="search_box"
                                                    (keyup)="$event.keyCode == 13 ? doFilter($event) : ''"
                                                    placeholder="{{'search_text'|translate}}" />
                                                <mat-icon (click)="doFilter($event)" matSuffix>search</mat-icon>
                                            </mat-form-field>
                                        </div>
                                        <div>
                                            <button mat-raised-button color="accent" (click)="toggleModel()"
                                                type="button" class="mt_3px">
                                                <mat-icon>add</mat-icon> {{"admin.year_sem_grp.add_new"|translate}}
                                            </button>
                                        </div>
                                    </div>
                                    <div class="rsp_tbl">
                                        <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
                                            <!-- Position Column -->
                                            <ng-container matColumnDef="id">
                                                <th mat-header-cell *matHeaderCellDef>{{"s_no_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{ element.s_no }}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"group"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.name }}</span>
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="year_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"year"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.year_name }}</span>
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="semester_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"semester"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.semester_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="organization_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"partner_name"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.organization_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="partner_child_name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header cdkDrag>
                                                    {{"admin.year_sem_grp.college_name"|translate}}
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <span>{{ element.partner_child_name }}</span>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="status">
                                                <th mat-header-cell *matHeaderCellDef cdkDrag>{{"status_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-slide-toggle (click)="changeStatus(element.id, element.status)"
                                                        [checked]="element.status == 1 ? true : false"
                                                        matTooltip="{{element.status == 1 ? 'Make Inactive' : 'Make Active'}}">
                                                    </mat-slide-toggle>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>{{"actions_text"|translate}}</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <button mat-icon-button matTooltip="{{'click_to_edit_text'|translate}}" color="accent"
                                                        (click)="getRow(element.id)">
                                                        <mat-icon>edit_note</mat-icon>
                                                    </button>
                                                    <button mwlConfirmationPopover [popoverTitle]="'Are you sure?'"
                                                        [popoverMessage]="
                                                        'Are you sure to delete <b>' + element.name + '</b> '
                                                        " placement="left" (confirm)="deleteRecord(element.id)"
                                                        confirmButtonType="danger" cancelButtonType="outline-secondary"
                                                        mat-icon-button color="warn" matTooltip="{{'delete_text'|translate}}">
                                                        <mat-icon>remove_circle_outline</mat-icon>
                                                    </button>
                                                </td>
                                            </ng-container>
                                            <tr mat-header-row *matHeaderRowDef="displayedColumnsGroups"></tr>
                                            <tr mat-row *matRowDef="let row; columns: displayedColumnsGroups"></tr>
                                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                                                <td class="mat-cell" [attr.colspan]="displayedColumnsGroups.length">{{"no_records_found_text"|translate}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <mat-paginator *ngIf="dataSource.data.length > 0" [pageSizeOptions]="page_size_options"
                                      [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons (page)="getServerData($event)"></mat-paginator>
                                </div>
                            </div>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="cust_mdl_par cust_mdl_50p" [ngClass]="{ cust_mdl_opn: model_status }">
    <div class="cust_mdl_chl">
        <div class="pg_ttl">
            {{ add_or_edit }} {{ page_title }}
            <span class="spacer"></span>
            <button type="button" mat-icon-button (click)="model_status = false">
                &#x2715;
            </button>
        </div>
        <form id="create_form" #create_form="ngForm" name="create_form" (ngSubmit)="create_form.valid && createNew()"
            novalidate>
            <div class="tbbd_bdy">
                <div class="grd_2c no_bxsdw">
                    <span class="text-right w_100p rqrd_txtinfo">
                        {{"fields_marked"|translate}} <span class="required">( * ) </span>{{"mandatory"|translate}}</span>
                    <div class="hgt_20"></div>

                    <div class="frm_dvs" *ngIf="slug == 'year'">
                        <span>{{"admin.year_sem_grp.select_yes"|translate}}<span class="required"></span></span>
                        <span>
                            <span class="err_tltp_par">
                                <span class="mr_1">
                                    <mat-checkbox class="mr_1" name="year_has_semester" [(ngModel)]="year_has_semester">
                                    </mat-checkbox>{{"admin.year_sem_grp.year_semesters"|translate}}
                                </span>
                                <span class="mr_1">
                                    <mat-checkbox class="mr_1" name="year_has_group" [(ngModel)]="year_has_group">
                                    </mat-checkbox>{{"admin.year_sem_grp.year_groups"|translate}}
                                </span>
                            </span>
                        </span>
                    </div>

                    <div class="frm_dvs" *ngIf="proceum_admin && self_or_other == 'other'">
                        <span>{{"organization_type"|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'organization_type'|translate}}" name="organization_edit"
                                        #organization_edit="ngModel" [(ngModel)]="organization_type"
                                        (ngModelChange)="onOrganizationTypeChange();" required [disabled]="id > 0">
                                        <mat-option *ngFor="let item of organization_types" [value]="item.value">{{
                                            item.viewValue }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span *ngIf="(create_form.submitted || organization_edit.touched) &&
                            organization_edit.invalid" class="prc_tltp">{{"admin.year_sem_grp.org_type_req"|translate}}
                                </span>
                            </span>
                        </span>
                    </div>

                    <div class="frm_dvs" *ngIf="proceum_admin && self_or_other == 'other' && organization_type == '1'">
                        <span>{{'select_text'|translate}} {{"university"|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'university'|translate}}" name="university_edit"
                                        #university_edit="ngModel" [(ngModel)]="partner_parent_id"
                                        (ngModelChange)="getCurriculumnHierarchy();getPartnerChilds()" required [disabled]="id > 0">
                                        <mat-option>
                                            <ngx-mat-select-search [noEntriesFoundLabel]="'No University found'"
                                                [placeholderLabel]="'Search University'" name="search_university"
                                                ngModel (ngModelChange)="filterPartners($event)">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let item of all_universities | async"
                                            [value]="item['pk_id']">{{ item["partner_name"] }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span
                                    *ngIf="(create_form.submitted || university_edit.touched) && university_edit.invalid"
                                    class="prc_tltp">
                                    {{"admin.year_sem_grp.university_req"|translate}}
                                </span>
                            </span>

                        </span>
                    </div>

                    <div class="frm_dvs"
                        *ngIf="(self_or_other == 'other' && organization_type == '1' && partner_parent_id != '' && user['role'] == '1') || (user['role'] == '8')">
                        <span>{{'select_text'|translate}} {{'college'|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'college'|translate}}" name="college_edit" #college_edit="ngModel"
                                        [(ngModel)]="partner_child_id" (ngModelChange)="getYears(0);" required [disabled]="id > 0">
                                        <mat-option>
                                            <ngx-mat-select-search [noEntriesFoundLabel]="'No College found'"
                                                [placeholderLabel]="'Search College'" name="search_college" ngModel
                                                (ngModelChange)="filterPartnerChilds($event)">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let item of all_colleges | async"
                                            [value]="item['pk_id']">{{
                                            item["partner_name"] }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span *ngIf="(create_form.submitted || college_edit.touched) && college_edit.invalid"
                                    class="prc_tltp">
                                    {{"admin.year_sem_grp.college_req"|translate}}
                                </span>
                            </span>

                        </span>
                    </div>

                    <div class="frm_dvs" *ngIf="(self_or_other == 'other' && organization_type == '2' && user['role'] == '1')">
                        <span>{{'select_text'|translate}} {{'college'|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'college'|translate}}" name="college_edit" #college_edit="ngModel"
                                        [(ngModel)]="partner_parent_id" (ngModelChange)="getCurriculumnHierarchy();getYears(0)" required [disabled]="id > 0">
                                        <mat-option>
                                            <ngx-mat-select-search [noEntriesFoundLabel]="'No College found'"
                                                [placeholderLabel]="'Search College'" name="search_college" ngModel
                                                (ngModelChange)="filterPartners($event)">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let item of all_universities | async"
                                            [value]="item['pk_id']">{{
                                            item["partner_name"] }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span *ngIf="(create_form.submitted || college_edit.touched) && college_edit.invalid"
                                    class="prc_tltp">
                                    {{"admin.year_sem_grp.college_req"|translate}}
                                </span>
                            </span>

                        </span>
                    </div>

                    <div class="frm_dvs" *ngIf="self_or_other == 'other' && organization_type == '3'  && user['role'] == '1'">
                        <span>{{'select_text'|translate}} {{'institute'|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'institute'|translate}}" name="institute_edit"
                                        #institute_edit="ngModel" [(ngModel)]="partner_parent_id"
                                        (ngModelChange)="getCurriculumnHierarchy();getYears(0)" required [disabled]="id > 0">
                                        <mat-option>
                                            <ngx-mat-select-search [noEntriesFoundLabel]="'No Institute found'"
                                                [placeholderLabel]="'Search Institute'" name="search_institite" ngModel
                                                (ngModelChange)="filterPartners($event)">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let item of all_universities | async" [value]="item['pk_id']">
                                            {{ item["partner_name"] }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span
                                    *ngIf="(create_form.submitted || institute_edit.touched) && institute_edit.invalid"
                                    class="prc_tltp">
                                    {{"admin.year_sem_grp.institute_req"|translate}}
                                </span>
                            </span>

                        </span>
                    </div>

                    <div class="frm_dvs" *ngIf="expand_course == true && slug == 'year'">
                        <span>{{"admin.year_sem_grp.select_subjects"|translate}} <span class="required">*</span></span>
                        <div class="tbbd_bdy">
                            <mat-tree [dataSource]="dataSourceForNestedTree" [treeControl]="treeControl" class="sc_tre">
                                <!-- This is the tree node template for leaf nodes -->
                                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle
                                    [style.display]="!search || node.ok?'block':'none'">
                                    <li class="mat-tree-node">
                                        <!-- use a disabled button to provide padding for tree leaf -->
                                        <button type="button" mat-icon-button disabled></button>
                                        <mat-checkbox class="checklist-leaf-node"
                                            (change)="todoItemSelectionToggle($event.checked,node)"
                                            [checked]="node.selected">
                                            {{node.name}}</mat-checkbox>

                                    </li>
                                </mat-tree-node>
                                <!-- This is the tree node template for expandable nodes -->
                                <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild"
                                    [style.display]="!search || node.ok?'block':'none'">
                                    <li>
                                        <div class="mat-tree-node">
                                            <button type="button" mat-icon-button matTreeNodeToggle
                                                [attr.aria-label]="'toggle ' + node.name">
                                                <mat-icon class="mat-icon-rtl-mirror">
                                                    {{treeControl.isExpanded(node) ? 'expand_more' :
                                                    'chevron_right'}}
                                                </mat-icon>
                                            </button>
                                            <mat-checkbox [checked]="node.selected"
                                                [indeterminate]="node.indeterminate && !node.selected"
                                                (change)="todoItemSelectionToggle($event.checked,node)">
                                                {{node.name}}
                                            </mat-checkbox>
                                        </div>
                                        <ul [class.example-tree-invisible]="!treeControl.isExpanded(node)">
                                            <ng-container matTreeNodeOutlet></ng-container>
                                        </ul>
                                    </li>
                                </mat-nested-tree-node>
                            </mat-tree>
                            <!-- <div class="w_100p text_right">
                        <button type="button" mat-raised-button color="accent"
                            (click)="submitCourses()">Submit</button><br />
                    </div> -->
                            <div class="hgt_20"></div>
                        </div>
                    </div>

                    <div class="frm_dvs"
                        *ngIf="(self_or_other == 'other' && partner_parent_id != '' && slug != 'year') || (self_or_other == 'self' && slug != 'year')">
                        <span>{{'select_text'|translate}} {{'year'|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'year'|translate}}" name="year_edit" #year_edit="ngModel"
                                        [(ngModel)]="year_id"
                                        (ngModelChange)="getChildDropDownData(year_id)" required [disabled]="id > 0">
                                        <mat-option>
                                            <ngx-mat-select-search [noEntriesFoundLabel]="'No Year found'"
                                                [placeholderLabel]="'Search Year'" name="search_year" ngModel
                                                (ngModelChange)="filterYear($event)">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let item of all_years | async" [value]="item['pk_id']">{{
                                            item["name"] }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span *ngIf="(create_form.submitted || year_edit.touched) &&
                            year_edit.invalid" class="prc_tltp">
                                </span>
                            </span>
                        </span>
                    </div>

                    <div class="frm_dvs"
                        *ngIf="(self_or_other == 'other' && (partner_parent_id != '') && (year_id != '' && year_id != null) && slug == 'group') && show_semester_dropdown">
                        <span>{{'select_text'|translate}} {{'semester'|translate}} <span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="{{'select_text'|translate}} {{'semester'|translate}}" name="semester_edit"
                                        #semester_edit="ngModel" [(ngModel)]="semester_id"
                                        (ngModelChange)="checkGroupCanCreate()" required [disabled]="id > 0">
                                        <mat-option>
                                            <ngx-mat-select-search [noEntriesFoundLabel]="'No Semester found'"
                                                [placeholderLabel]="'Search Semester'" name="search_semester" ngModel
                                                (ngModelChange)="filterSemester($event)">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let item of all_semesters | async" [value]="item['pk_id']">
                                            {{ item["name"] }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <span *ngIf="(create_form.submitted || semester_edit.touched) &&
                            semester_edit.invalid" class="prc_tltp">{{"admin.year_sem_grp.sem_required"|translate}}
                                </span>
                            </span>
                        </span>
                    </div>

                    <div class="frm_dvs">
                        <span>{{ page_title }} {{'name'|translate}}<span class="required">*</span></span>
                        <span>
                            <span class="err_tltp_par">
                                <mat-form-field appearance="outline" *ngIf="slug == 'year'">
                                    <input maxlength="30" required name="title" [(ngModel)]="name_of" matInput
                                        placeholder="{{ page_title }} {{'name'|translate}}" #title="ngModel" />
                                    <span class="prc_tltp"
                                        *ngIf="(create_form.submitted || title.touched) && title.invalid">{{ page_title
                                        }} {{"admin.year_sem_grp.name_required"|translate}}</span>
                                </mat-form-field>
                                <mat-form-field appearance="outline" *ngIf="slug == 'semester' || slug == 'group'">
                                    <input maxlength="30" required name="title" [(ngModel)]="name_of" matInput
                                        placeholder="{{ page_title }} {{'name'|translate}}" #title="ngModel"
                                        [disabled]="name_field_disabled" />
                                    <span class="prc_tltp"
                                        *ngIf="(create_form.submitted || title.touched) && title.invalid">{{ page_title
                                        }} {{"admin.year_sem_grp.name_required"|translate}}</span>
                                </mat-form-field>

                            </span>
                        </span>
                    </div>

                </div>
            </div>
            <hr />
            <button mat-raised-button color="accent" class="float_right mr_1">
                {{'submit'|translate}}
            </button>
            <button type="button" mat-raised-button class="float_right mr_1 gry_btn" (click)="model_status = false">
                {{'close'|translate}}
            </button>
        </form>
        <div class="hgt_20"></div>
    </div>
</div>
