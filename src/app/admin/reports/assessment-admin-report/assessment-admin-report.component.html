<div class="mn_dshbrd">
    <div class="brd_crm">{{"proceum_text"|translate}} &raquo; <strong>{{"admin.report.ass_rpt.view_page_title"|translate}}</strong></div> 
    
    <div class="d-flex rsp_fw">
        <div class="pg_ttl">{{"admin.report.ass_rpt.view_page_title"|translate}}</div>
        <div class="spacer"></div>
    </div>
    <hr />
    <div class="dsh_brd_crds">
        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.partner_name"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{partner_name}}" disabled="true">
            </mat-form-field>
        </div>
        <div class="cm_fltr_sc mr_1 fld_readonly" *ngIf="college_id != null">
            <span>{{"admin.report.ass_rpt.college_name"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{college_name}}" disabled="true">
            </mat-form-field>
        </div>
        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.assessment_name"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{assessment_name}}" disabled="true">
            </mat-form-field>
        </div>

        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.date_time"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{assessment_date_time}}" disabled="true">
            </mat-form-field>
        </div>

        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.conducted_by"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{created_by}}" disabled="true">
            </mat-form-field>
        </div>

        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.total_questions"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{question_total}}" disabled="true">
            </mat-form-field>
        </div>

        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.e_q_duration"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{question_duration}} {{'min_text'|translate}}" disabled="true">
            </mat-form-field>
        </div>

        <div class="cm_fltr_sc mr_1 fld_readonly">
            <span>{{"admin.report.ass_rpt.appeared_passed"|translate}} </span>
            <mat-form-field appearance="outline" class="w_47p">
                <input matInput value="{{report_count}} / {{passed}}" disabled="true">
            </mat-form-field>
        </div>
    </div>
    <div class="hgt_20"></div>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="s_no">
          <th mat-header-cell *matHeaderCellDef>{{"s_no_text" | translate}} </th>
          <td mat-cell *matCellDef="let element"> {{ element.s_no }} </td>
        </ng-container>
    
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> {{"admin.report.ass_rpt.student_name"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal">
            {{element.name}}
          </td>
        </ng-container>
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> {{"admin.assessment.report.email"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal">
            {{element.email}}
          </td>
        </ng-container>
        <ng-container matColumnDef="questions_attempted">
          <th mat-header-cell *matHeaderCellDef> {{"admin.report.ass_rpt.questions_attempted"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal">
            {{element.q_attempted}}
          </td>
        </ng-container>
        <ng-container matColumnDef="skipped">
          <th mat-header-cell *matHeaderCellDef> {{"admin.report.ass_rpt.skipped"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal">
            {{element.skipped}}
          </td>
        </ng-container>
        <ng-container matColumnDef="right">
          <th mat-header-cell *matHeaderCellDef class="text_center"> {{"admin.assessment.report.correct"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal text_center">
            {{element.correct}}
          </td>
        </ng-container>
        <ng-container matColumnDef="wrong">
          <th mat-header-cell *matHeaderCellDef class="text_center"> {{"admin.assessment.report.wrong"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal text_center">
            {{element.wrong}}
          </td>
        </ng-container>
        <ng-container matColumnDef="percentage">
          <th mat-header-cell *matHeaderCellDef class="text_center"> {{"admin.assessment.report.percentage"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="ws_normal text_center">
            {{element.percentage}}%
          </td>
        </ng-container>
        <ng-container matColumnDef="result">
          <th mat-header-cell *matHeaderCellDef class="text_center"> {{"admin.assessment.report.result"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="text_center">
            {{element.result}}
          </td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="text_center"> {{"actions_text"|translate}} </th>
          <td mat-cell *matCellDef="let element" class="text_center">
              <a [href]="apiUrl+'assessment/download-performance-report/'+assessment_id+'/'+element['user_id']" target="_blank"><img src="../../../../assets/images/pdf.png" width="25" matTooltip="Download PDF" ></a>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
        <tr class="mat-row no_rcrds_fd" *matNoDataRow>
          <td class="mat-cell" [attr.colspan]="displayedColumns.length">{{"no_records_found_text"|translate}}</td>
        </tr>
      </table>
      <mat-paginator #paginator [pageSize]="pageSize" [length]="report_count" [pageSizeOptions]="page_size_options"
        [showFirstLastButtons]="true" (page)="getServerData($event)"></mat-paginator>
</div>