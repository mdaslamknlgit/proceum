<div class="wr_rvw_dv" *ngIf="show_coments">
  <div class="wr_hd">
    <div class="d-flex mr_1 mt_3px">
      <mat-icon>rate_review</mat-icon>
    </div>
    <div>Write Review</div>
    <div class="spacer"></div>
    <div class="d-flex">
      <mat-icon (click)="showComments()">close</mat-icon>
    </div>
  </div>
  <div class="wr_bdy_sec">
    <div class="oldr_cmnts">
      <div class="oldr_cmnts_hd">Older comments</div>
      <div class="oldr_cmnts_dv" *ngFor="let comment of older_coments">
        <div class="oldr_cmnts_sbhd">
          <div class="oldr_cmnts_dvhd">{{ comment["name"] }}</div>
          <div class="oldr_cmnts_dvts">{{ comment["date_time"] }}</div>
        </div>
        <div class="oldr_cmnt_dsc">
          <div class="ck_editor_view" *ngIf="comment['comment'] && comment['comment'].trim()!=''">
            <ckeditor [disabled]="true" [editor]="Editor" [config]="{}" [data]="comment['comment']"></ckeditor>
          </div>
        </div>
      </div>
    </div>
    <div class="wr_btm_sec">
      <div style="height: 200px">
        <div class="ck_editor" *ngIf="show_coments">
          <ckeditor [(ngModel)]="comments_content" name="comments_content" (ready)="onReady($event)" [editor]="Editor"
            #editor [config]="editorReviewConfig" style="height: 500px"></ckeditor>
        </div>
      </div>
      <div class="wr_atchmts" *ngIf="review_docs.length>0">
        <ul>
          <li *ngFor="let file of review_docs;let file_index = index;">
            <div>
              <img [src]="getPreview(file)" alt="{{ file.substring(file.lastIndexOf('/') + 1) }}" />
            </div>
            <div>{{ file.substring(file.lastIndexOf('/') + 1) }}</div>
            <div>
              <button mat-icon-button color="warn">
                <mat-icon (click)="removeReviewDocument(file_index)">remove_circle_outline</mat-icon>
              </button>
            </div>
          </li>

        </ul>
      </div>
      <div class="wr_btm_ftr">
        <button mat-raised-button onclick="document.getElementById('fileToUpload').click()" color="accent"
          class="float_right mr_1 mt_5px">
          <mat-icon>upload</mat-icon>
          Attach Files<input (change)="uploadReviewFiles($event)" multiple="true" #documents accept="image/x-png,image/gif,image/jpeg,application/msword,application/vnd.ms-excel,application/vnd.ms-powerpoint,
          text/plain,application/pdf" id="fileToUpload" type="file" style="display: none" />
        </button>
        <div class="spacer"></div>
        <button mat-raised-button class="gry_btn mr_1" (click)="showComments()">Cancel</button>
        <button mat-raised-button color="accent" [disabled]="comments_content.trim()=='' && allow_coment == false"
          (click)="addComent()">Submit</button>
      </div>
    </div>
  </div>
</div>
<div class="mn_dshbrd rvw_tb_mn">
  <div class="rvw_tb_fxd" *ngIf="content_id>0" (click)="showComments()">
    <mat-icon>chat</mat-icon>
  </div>
  <div class="cust_mdl_par cust_mdl_30p {{ showReviewers ? 'cust_mdl_opn' : '' }}">
    <div class="cust_mdl_chl">
      <div class="pg_ttl">
        Select Reviewer
        <span class="spacer"></span>
        <button (click)="CloseSelectReviewer()" mat-icon-button class="float_right">
          &#x2715;
        </button>
      </div>
      <div class="tbbd_bdy">
        <div class="hgt_20"></div>
        <span class="err_tltp_par" *ngIf="reviewers.length>0">
          <mat-form-field appearance="outline">
            <mat-select placeholder="Select Reviewer" #reviewer_role_name="ngModel" name="reviewer_role_name"
              [(ngModel)]="reviewer_role" required>
              <mat-option value="">Select Reviewer</mat-option>
              <mat-option *ngFor="let role of reviewers" [value]="role['role_id']">{{
                role['title'] }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <span class="prc_tltp" *ngIf="
                (content_create_form.submitted) &&
                reviewer_role_name.invalid
              ">Please Select Reviewer</span>
        </span>
        <hr>
        <button type="button" [disabled]="!reviewer_role" (click)="createContent(false)" mat-raised-button
          color="accent" class="float_right">
          Submit
        </button>
        <div class="hgt_20"></div>
      </div>
    </div>
  </div>
  <div class="cust_mdl_par cust_mdl_30p {{ schdule_publish ? 'cust_mdl_opn' : '' }}">
    <div class="cust_mdl_chl">
      <div class="pg_ttl">
        Set Publish Date &amp; Time
        <span class="spacer"></span>
        <button (click)="CloseSchdulePublish()" mat-icon-button class="float_right">
          &#x2715;
        </button>
      </div>
      <div class="tbbd_bdy dsh_brd_crds">
        <div class="hgt_20"></div>
        <span class="err_tltp_par" *ngIf="reviewers.length>0">
          <mat-form-field appearance="outline" color="accent" class="w_47p mr_1">
            <input readonly="true" placeholder="Select Date" name="publish_date_name" #publish_date_name="ngModel"
              [(ngModel)]="publish_date" matInput [matDatepicker]="picker" autocomplete="off" [min]="today_date" />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field appearance="outline" class="w_47p">
            <input type="time" matInput min="{{today.today.getHours()}+':'+today.getMinutes()}"
              [(ngModel)]="publish_time" name="publish_time">
            <!-- <mat-icon matSuffix>schedule</mat-icon> -->
          </mat-form-field>
        </span>
        <hr>
        <button type="button" [disabled]="!publish_date || !publish_time" (click)="publishContent()" mat-raised-button
          color="accent" class="float_right">
          Submit
        </button>
        <div class="hgt_20"></div>
      </div>
    </div>
  </div>

  <div class="cust_mdl_par cust_mdl_50p {{ library_popup ? 'cust_mdl_opn' : '' }}">
    <div class="cust_mdl_chl">
      <div class="pg_ttl">
        Proceum Library
        <span class="spacer"></span>
        <button (click)="CloseModal()" mat-icon-button class="float_right">
          &#x2715;
        </button>
      </div>
      <div class="tbbd_bdy" *ngIf="library_popup">
        <app-assets-library [data]="{ modal_view: true, active_tab: active_tab, 'library_purpose': library_purpose }">
        </app-assets-library>
        <hr />
        <button mat-raised-button color="accent" class="float_right mr_1">
          Select
        </button>
        <button mat-raised-button class="float_right mr_1 gry_btn" (click)="CloseModal()">
          Close
        </button>
        <div class="hgt_20"></div>
      </div>
    </div>
  </div>
  <div class="brd_crm">Proceum &raquo; <strong>{{ pgae_title }}</strong></div>
  <div class="d-flex">
    <div class="pg_ttl ai_cntr">
      <div class="mr_1">{{ pgae_title }}</div>
      <div class="cm_sts_info edt_cnt_sts_info" *ngIf="content_id>0">
        <span *ngIf="content_status == null" class="cpy">Copy</span>
        <span *ngIf="content_status == 'PUBLISHED'" class="pblshd">Published</span>
        <span *ngIf="content_status == 'DRAFT'" class="drft">Draft</span>
        <span *ngIf="content_status == 'REVIEW' && content_reviewer_role==3" class="crct_pnd">Corrections Pending</span>
        <span *ngIf="content_status == 'REVIEW' && content_reviewer_role==7" class="aw_aprvl">Awaiting Approval</span>
        <span
          *ngIf="content_status == 'REVIEW' && (content_reviewer_role==4 || econtent_reviewer_role==5 || content_reviewer_role==6)"
          class="rw_pndg">Review Pending</span>
      </div>
    </div>
  </div>


  <form (keydown.enter)="$event.preventDefault()" id="content_form" #content_create_form="ngForm"
    name="content_create_form" (ngSubmit)="content_create_form.valid && createContent(false)" novalidate>
    <div class="main_content_cc">
      <!-- Left content -->
      <div class="cc_left_content dsh_brd_crds">
        <div class="d-flex">
          <div class="w_47p mr_1">
            <div>Content Title</div>
            <div class="cc_row err_tltp_par">
              <mat-form-field appearance="outline" class="page_title_input {{
                  is_submit && title_name.invalid ? 'mat-form-field-invalid' : ''
                }}">
                <input matInput trim="blur" name="title_name" maxlength="250" [(ngModel)]="title"
                  placeholder="Enter Content Title" #title_name="ngModel" required />
              </mat-form-field>
              <span class="prc_tltp" *ngIf="
                  ((content_create_form.submitted || title_name.touched) &&
                    title_name.invalid) ||
                  (is_submit && title_name.invalid)
                ">
                Content Title is required</span>
            </div>
          </div>
          <div>
            <div>Free/Paid Content</div>
            <div class="fre_pid_dv mt_3px">
              <mat-slide-toggle [(ngModel)]="is_paid" name="is_paid_name">
                {{ is_paid == true ? 'Paid Content' : 'Free Content'}}
              </mat-slide-toggle>
            </div>
          </div>
        </div>


        <!-- #Row1 -->
        <div class="cc_row">
          <!-- Intro video -->
          <!--  <div class="introvide_block">
            <div class="c_block">
              <div class="c_block_title">
                <mat-icon>videocam</mat-icon>
                <label for="Intro video"> Intro video</label>
              </div>
              <div class="c_block_content">
                <div class="upload_placeholder">
                  <div class="place_block">
                    <mat-icon> add </mat-icon><br />
                    <span> Click here to add video </span>
                  </div>
                </div>
                <div class="upload_btn">
                  <button>
                    <mat-icon> upload </mat-icon>
                    Select video
                  </button> 
                </div>
              </div>
            </div>
          </div>-->
          <div class="main_video_block">
            <div class="c_block">
              <div class="c_block_title">
                <mat-icon>videocam</mat-icon>
                <label for="Intro video"> Videos</label>
              </div>
              <!-- <mat-form-field appearance="outline" class="mn_vd_inp">
                <input matInput placeholder="Enter Content Title (max. 250 characters)" />
              </mat-form-field>
              <mat-form-field appearance="outline" class="mn_vd_inp">
                <textarea matInput placeholder="Video description"></textarea>
              </mat-form-field> -->
              <div class="mn_vd_tbd">
                <mat-tab-group animationDuration="0.15s">
                  <mat-tab>
                    <ng-template mat-tab-label>
                      Introduction
                      <!-- <span class="lbl_cnt">(5)</span> -->
                    </ng-template>
                    <div class="hgt_20"></div>
                    <div class="ulvd_inpts">
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="video_source_0" name="video_source_0">
                              <mat-option value="">Select Source</mat-option>
                              <mat-option *ngFor="let video_type of video_types" [value]="video_type['value']">
                                {{video_type['name']}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_title_error_0!=''?'mat-form-field-invalid':''}}">
                            <input [(ngModel)]="video_title_0" maxlength="50" (blur)="CheckTitleValue(0,1)"
                              name="video_title_0" matInput placeholder="Title" />
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_value_error_0!='' || video_value_invalid_error_0!=''?'mat-form-field-invalid':''}}">
                            <input matInput [(ngModel)]="video_value_0" (blur)="CheckTitleValue(0,2)"
                              name="video_value_0" placeholder="Video URL/ID" />
                          </mat-form-field>
                          <span class="prc_tltp"
                            *ngIf="video_value_invalid_error_0!=''">{{video_value_invalid_error_0}}</span>
                        </span>
                      </div>
                    </div>
                    <div class="text_right">
                      <button
                        [disabled]="video_source_0.trim()=='' || video_title_0.trim()=='' || video_value_0.trim() == ''"
                        type="button" (click)="addVideo(0)" mat-raised-button color="accent">
                        <mat-icon>add</mat-icon> Add Video
                      </button>
                    </div>
                    <div>
                      <div *ngFor="let video of intro_video; let video_index=index">
                        <div class="hyt_lst_dv" *ngIf="video['status'] != 'delete'">
                          <div class="kp_yt_img">
                            <img
                              src="../../../assets/images/{{video['source'] == 'KPOINT'?'kpoint_k.png':'youtube.png'}}">
                          </div>
                          <div class="mr_1 fnt_bold">{{video['title']}}
                            <div class="vd_pth">
                              Source: {{video['value']}}
                            </div>
                          </div>
                          <div class="spacer"></div>
                          <div>
                            <button (click)="editVideo(0,video_index)" type="button" mat-icon-button
                              class="mr_1 no_bxsdw" color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button *ngIf="video_index_0!=video_index" (click)="removeVideo(0,video_index)"
                              type="button" mat-icon-button class="no_bxsdw" color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="hgt_20"></div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      2D Videos
                      <!-- <span class="lbl_cnt">(5)</span> -->
                    </ng-template>
                    <div class="hgt_20"></div>
                    <div class="ulvd_inpts">
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="video_source_1" name="video_source_1">
                              <mat-option value="">Select Source</mat-option>
                              <mat-option *ngFor="let video_type of video_types" [value]="video_type['value']">
                                {{video_type['name']}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_title_error_1!=''?'mat-form-field-invalid':''}}">
                            <input [(ngModel)]="video_title_1" maxlength="50" (blur)="CheckTitleValue(1,1)"
                              name="video_title_1" matInput placeholder="Title" />
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_value_error_1!='' || video_value_invalid_error_1!=''?'mat-form-field-invalid':''}}">
                            <input matInput [(ngModel)]="video_value_1" (blur)="CheckTitleValue(1,2)"
                              name="video_value_1" placeholder="Video URL/ID" />
                          </mat-form-field>
                          <span class="prc_tltp"
                            *ngIf="video_value_invalid_error_1!=''">{{video_value_invalid_error_1}}</span>
                        </span>
                      </div>
                    </div>
                    <div class="text_right">
                      <button
                        [disabled]="video_source_1.trim()=='' || video_title_1.trim()=='' || video_value_1.trim() == ''"
                        type="button" (click)="addVideo(1)" mat-raised-button color="accent">
                        <mat-icon>add</mat-icon> Add Video
                      </button>
                    </div>
                    <div>
                      <div *ngFor="let video of two_d_videos; let video_index=index">
                        <div class="hyt_lst_dv" *ngIf="video['status'] != 'delete'">
                          <div class="kp_yt_img">
                            <img
                              src="../../../assets/images/{{video['source'] == 'KPOINT'?'kpoint_k.png':'youtube.png'}}">
                          </div>
                          <div class="mr_1 fnt_bold">{{video['title']}}
                            <div class="vd_pth">
                              Source: {{video['value']}}
                            </div>
                          </div>
                          <div class="spacer"></div>
                          <div>
                            <button (click)="editVideo(1,video_index)" type="button" mat-icon-button
                              class="mr_1 no_bxsdw" color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button *ngIf="video_index_1!=video_index" (click)="removeVideo(1,video_index)"
                              type="button" mat-icon-button class="no_bxsdw" color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="hgt_20"></div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      Board Lectures
                      <!-- <span class="lbl_cnt">(5)</span> -->
                    </ng-template>
                    <div class="hgt_20"></div>
                    <div class="ulvd_inpts">
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="video_source_2" name="video_source_2">
                              <mat-option value="">Select Source</mat-option>
                              <mat-option *ngFor="let video_type of video_types" [value]="video_type['value']">
                                {{video_type['name']}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_title_error_2!=''?'mat-form-field-invalid':''}}">
                            <input [(ngModel)]="video_title_2" maxlength="50" (blur)="CheckTitleValue(2,1)"
                              name="video_title_2" matInput placeholder="Title" />
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_value_error_2!='' || video_value_invalid_error_2!=''?'mat-form-field-invalid':''}}">
                            <input matInput [(ngModel)]="video_value_2" (blur)="CheckTitleValue(2,2)"
                              name="video_value_2" placeholder="Video URL/ID" />
                          </mat-form-field>
                          <span class="prc_tltp"
                            *ngIf="video_value_invalid_error_2!=''">{{video_value_invalid_error_1}}</span>
                        </span>
                      </div>
                    </div>
                    <div class="text_right">
                      <button
                        [disabled]="video_source_2.trim()=='' || video_title_2.trim()=='' || video_value_2.trim() == ''"
                        type="button" (click)="addVideo(2)" mat-raised-button color="accent">
                        <mat-icon>add</mat-icon> Add Video
                      </button>
                    </div>
                    <div>
                      <div *ngFor="let video of board_lecture_videos; let video_index=index">
                        <div class="hyt_lst_dv" *ngIf="video['status'] != 'delete'">
                          <div class="kp_yt_img">
                            <img
                              src="../../../assets/images/{{video['source'] == 'KPOINT'?'kpoint_k.png':'youtube.png'}}">
                          </div>
                          <div class="mr_1 fnt_bold">{{video['title']}}
                            <div class="vd_pth">
                              Source: {{video['value']}}
                            </div>
                          </div>
                          <div class="spacer"></div>
                          <div>
                            <button (click)="editVideo(2,video_index)" type="button" mat-icon-button
                              class="mr_1 no_bxsdw" color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button *ngIf="video_index_2!=video_index" (click)="removeVideo(2,video_index)"
                              type="button" mat-icon-button class="no_bxsdw" color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="hgt_20"></div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      Clinical Essentials
                      <!-- <span class="lbl_cnt">(5)</span> -->
                    </ng-template>
                    <div class="hgt_20"></div>
                    <div class="ulvd_inpts">
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="video_source_3" name="video_source_3">
                              <mat-option value="">Select Source</mat-option>
                              <mat-option *ngFor="let video_type of video_types" [value]="video_type['value']">
                                {{video_type['name']}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_title_error_3!=''?'mat-form-field-invalid':''}}">
                            <input [(ngModel)]="video_title_3" maxlength="50" (blur)="CheckTitleValue(3,1)"
                              name="video_title_3" matInput placeholder="Title" />
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_value_error_3!='' || video_value_invalid_error_3!=''?'mat-form-field-invalid':''}}">
                            <input matInput [(ngModel)]="video_value_3" (blur)="CheckTitleValue(3,2)"
                              name="video_value_3" placeholder="Video URL/ID" />
                          </mat-form-field>
                          <span class="prc_tltp"
                            *ngIf="video_value_invalid_error_3!=''">{{video_value_invalid_error_1}}</span>
                        </span>
                      </div>
                    </div>
                    <div class="text_right">
                      <button
                        [disabled]="video_source_3.trim()=='' || video_title_3.trim()=='' || video_value_3.trim() == ''"
                        type="button" (click)="addVideo(3)" mat-raised-button color="accent">
                        <mat-icon>add</mat-icon> Add Video
                      </button>
                    </div>
                    <div>
                      <div *ngFor="let video of clinical_videos; let video_index=index">
                        <div class="hyt_lst_dv" *ngIf="video['status'] != 'delete'">
                          <div class="kp_yt_img">
                            <img
                              src="../../../assets/images/{{video['source'] == 'KPOINT'?'kpoint_k.png':'youtube.png'}}">
                          </div>
                          <div class="mr_1 fnt_bold">{{video['title']}}
                            <div class="vd_pth">
                              Source: {{video['value']}}
                            </div>
                          </div>
                          <div class="spacer"></div>
                          <div>
                            <button (click)="editVideo(3,video_index)" type="button" mat-icon-button
                              class="mr_1 no_bxsdw" color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button *ngIf="video_index_3!=video_index" (click)="removeVideo(3,video_index)"
                              type="button" mat-icon-button class="no_bxsdw" color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="hgt_20"></div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      Procedural Videos
                      <!-- <span class="lbl_cnt">(5)</span> -->
                    </ng-template>
                    <div class="hgt_20"></div>
                    <div class="ulvd_inpts">
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline">
                            <mat-select [(ngModel)]="video_source_4" name="video_source_4">
                              <mat-option value="">Select Source</mat-option>
                              <mat-option *ngFor="let video_type of video_types" [value]="video_type['value']">
                                {{video_type['name']}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_title_error_4!=''?'mat-form-field-invalid':''}}">
                            <input [(ngModel)]="video_title_4" maxlength="50" (blur)="CheckTitleValue(4,1)"
                              name="video_title_4" matInput placeholder="Title" />
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline"
                            class="{{video_value_error_4!='' || video_value_invalid_error_4!=''?'mat-form-field-invalid':''}}">
                            <input matInput [(ngModel)]="video_value_4" (blur)="CheckTitleValue(4,2)"
                              name="video_value_4" placeholder="Video URL/ID" />
                          </mat-form-field>
                          <span class="prc_tltp"
                            *ngIf="video_value_invalid_error_4!=''">{{video_value_invalid_error_1}}</span>
                        </span>
                      </div>
                    </div>
                    <div class="text_right">
                      <button
                        [disabled]="video_source_4.trim()=='' || video_title_4.trim()=='' || video_value_4.trim() == ''"
                        type="button" (click)="addVideo(4)" mat-raised-button color="accent">
                        <mat-icon>add</mat-icon> Add Video
                      </button>
                    </div>
                    <div>
                      <div *ngFor="let video of procedural_videos; let video_index=index">
                        <div class="hyt_lst_dv" *ngIf="video['status'] != 'delete'">
                          <div class="kp_yt_img">
                            <img
                              src="../../../assets/images/{{video['source'] == 'KPOINT'?'kpoint_k.png':'youtube.png'}}">
                          </div>
                          <div class="mr_1 fnt_bold">{{video['title']}}
                            <div class="vd_pth">
                              Source: {{video['value']}}
                            </div>
                          </div>
                          <div class="spacer"></div>
                          <div>
                            <button (click)="editVideo(4,video_index)" type="button" mat-icon-button
                              class="mr_1 no_bxsdw" color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button *ngIf="video_index_4!=video_index" (click)="removeVideo(4,video_index)"
                              type="button" mat-icon-button class="no_bxsdw" color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="hgt_20"></div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      3D Objects
                      <!-- <span class="lbl_cnt">(5)</span> -->
                    </ng-template>
                    <div class="hgt_20"></div>
                    <div class="fl_frmt_info">Only .obj files allowed!</div>
                    <div class="ulvd_inpts">
                      <div>
                        <span class="err_tltp_par">
                          <mat-form-field appearance="outline" maxlength="50"
                            class="{{video_title_error_5!=''?'mat-form-field-invalid':''}}">
                            <input [(ngModel)]="video_title_5" maxlength="50" (blur)="CheckTitleValue(5,1)"
                              name="video_title_5" matInput placeholder="Title" />
                          </mat-form-field>
                        </span>
                      </div>
                      <div>
                        <span class="err_tltp_par">
                          <!-- <mat-form-field appearance="outline" class="{{video_value_error_5!='' || video_value_invalid_error_5!=''?'mat-form-field-invalid':''}}"> -->
                          <div style="padding-top: 10px;">
                            <input type="file" #threed_object (change)="upload3dObject($event)"
                              name="three_d_videos_value_5" placeholder="Select 3d objet" />
                          </div>
                          <!-- <input matInput [(ngModel)]="video_value_5" (blur)="CheckTitleValue(5,2)" name="video_value_5"
                              placeholder="Video URL/ID" /> -->
                          <!-- </mat-form-field> -->
                          <span class="prc_tltp"
                            *ngIf="video_value_invalid_error_5!=''">{{video_value_invalid_error_1}}</span>
                        </span>
                      </div>
                    </div>
                    <div class="text_right">
                      <button
                        [disabled]="video_source_5.trim()=='' || video_title_5.trim()=='' || video_value_5.trim() == ''"
                        type="button" (click)="add3dObject(threed_object)" mat-raised-button color="accent">
                        <mat-icon>add</mat-icon> Add 3d Object
                      </button>
                    </div>
                    <div>
                      <div *ngFor="let video of three_d_videos; let video_index=index">
                        <div class="hyt_lst_dv" *ngIf="video['status'] != 'delete'">
                          <div class="kp_yt_img">
                            <img src="../../../assets/images/{{video['source'] == '3D_OBJECT'?'obj.png':'obj.png'}}">
                          </div>
                          <div class="mr_1 fnt_bold">{{video['title']}}
                            <div class="vd_pth">
                              Source: {{video['value']}}
                            </div>
                          </div>
                          <div class="spacer"></div>
                          <div>
                            <button *ngIf="video_index_5!=video_index" (click)="removeVideo(5,video_index)"
                              type="button" mat-icon-button class="no_bxsdw" color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="hgt_20"></div>
                  </mat-tab>
                </mat-tab-group>
              </div>
              <!-- <div class="c_block_content">
                <div class="upload_placeholder" (click)="openAssetsLibrary('videos', 'videos')">
                  <div class="place_block">
                    <mat-icon> add </mat-icon><br />
                    <span> Click Here to add Video </span>
                  </div>
                </div>
                <div class="upload_btn">
                  <button>
                    <mat-icon> upload </mat-icon>
                    Select video
                  </button>
                </div>
              </div> -->
            </div>
          </div>
        </div>
        <!-- #Row 2 -->
        <div class="cc_row">
          <div class="description_block">
            <div class="c_block">
              <div class="c_block_title">
                <mat-icon>subject</mat-icon>
                <label for="Intro video"> Content description</label>
              </div>
              <div class="c_block_content">
                <div *ngIf="load_editor" class="ck_editor" (click)="editorFocused('description_editor')">
                  <ckeditor [(ngModel)]="main_content" name="main_content_name" (ready)="onReady($event)"
                    [editor]="Editor" #description_editor [config]="editorConfig">
                  </ckeditor>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- #Row 3.5 -->
        <div class="cc_row">
          <div class="upld_attchmnts">
            <div class="c_block">
              <div class="c_block_title">
                <mat-icon>attachment</mat-icon>
                <label for="Intro video"> Attachments</label>
                <span class="spacer"></span>
                <mat-icon (click)="openAssetsLibrary('documents', 'attachments')">add</mat-icon>
              </div>
              <div class="c_block_content" *ngIf="attachments.length == 0">
                <div class="upload_placeholder">
                  <div class="place_block">
                    <span>Click + icon to add Attachments</span>
                  </div>
                </div>
              </div>
              <div class="c_block_content">
                <ul>
                  <li *ngFor="let file of attachments; let i = index">
                    <img [src]="file['path']" alt="" />
                    <span class="upldd_hd">
                      {{
                      file["file_path"].substring(
                      file["file_path"].lastIndexOf("/") + 1
                      )
                      }}
                    </span>
                    <span class="spacer"></span>
                    <mat-icon class="vd_dl_icn" (click)="removeFile(i, 'attachments')">remove_circle_outline
                    </mat-icon>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="hgt_20"></div>
          <div class="upld_img_thmb">
            <div class="c_block">
              <div class="c_block_title">
                <mat-icon>wallpaper</mat-icon>
                <label for="Intro video"> Upload images / Thumbnails</label>
                <span class="spacer"></span>
                <mat-icon (click)="openAssetsLibrary('images', 'images')">add</mat-icon>
              </div>
              <div class="c_block_content" *ngIf="images.length == 0">
                <div class="upload_placeholder">
                  <div class="place_block">
                    <span>Click + icon to add Attachments</span>
                  </div>
                </div>
              </div>
              <div class="c_block_content">
                <ul>
                  <li *ngFor="let file of images; let i = index">
                    <img [src]="file['path']" alt="{{
                        file['file_path'].substring(
                          file['file_path'].lastIndexOf('/') + 1
                        )
                      }}" />
                    <span class="upldd_hd">{{
                      file["file_path"].substring(
                      file["file_path"].lastIndexOf("/") + 1
                      )
                      }}</span>
                    <span class="spacer"></span>
                    <mat-icon class="vd_dl_icn" (click)="removeFile(i, 'images')">remove_circle_outline</mat-icon>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- #Row 4 -->
        <div class="cc_row">
          <!-- Attachments -->
          <div class="tabs_block">
            <div class="c_block">
              <div class="c_block_content">
                <mat-tab-group (selectedTabChange)="notesTab($event)" animationDuration="0.15s" *ngIf="show_tabs">
                  <mat-tab label="Learning Objectives">
                    <!-- <button type="button" (click)="addImage()">Add</button> -->
                    <ng-template matTabContent>
                    <div class="ck_editor" (click)="editorFocused('lerning_obj_editor')">
                      <ckeditor [(ngModel)]="learning_obj_content" name="learning_obj_content_name"
                        (ready)="onReady($event)" [editor]="Editor" #lerning_obj_editor [config]="editorConfig"
                        style="height: 500px"></ckeditor>
                    </div>
                </ng-template>
                  </mat-tab>
                  <mat-tab label="Lecture Notes">
                    <ng-template matTabContent>
                    <div class="hyt_mn_dv">
                      <div class="dsh_brd_crds">
                        <mat-form-field appearance="outline" class="w_100p">
                          <input matInput [(ngModel)]="lecture_note_title" (blur)="checkLectureNoteDuplicate()"
                            name="lecture_note_title_name" placeholder="Title" />
                        </mat-form-field>
                      </div>
                      <div class="ck_editor" (click)="editorFocused('lecture_editor')">
                        <ckeditor [(ngModel)]="lecture_note_content" name="lecture_note_content_name"
                          (ready)="onReady($event)" [editor]="Editor" #lecture_editor [config]="editorConfig"
                          style="height: 500px"></ckeditor>
                      </div>
                      <div class="mt_1 text_right">
                        <button type="button"
                          [disabled]="lecture_note_title.trim() == '' || lecture_note_content.trim() == ''"
                          (click)="addLectureNote()" mat-raised-button color="accent">
                          <mat-icon>add</mat-icon> Add Notes
                        </button>
                      </div>
                      <!-- <div class="mt_1 text_right">
                        <button type="button"
                          [disabled]="lecture_note_title.trim() == '' || lecture_note_content.trim() == '' || lecture_note_title_duplicate"
                          (click)="addLectureNote()" mat-raised-button color="accent">
                          <mat-icon>add</mat-icon> Add Notes
                        </button>
                      </div> -->
                    </div>

                    <div class="hyt_aded_nts">
                      <div class="hyt_aded_nts_hd">Added Notes</div>
                      <div *ngFor="let lecture_note of lecture_note_obj; let i = index">
                        <div class="hyt_lst_dv" *ngIf="lecture_note['status'] != 'delete'">
                          <div class="mr_1">{{ lecture_note["title"] }}</div>
                          <div class="spacer"></div>
                          <div>
                            <button type="button" (click)="editLectureNote(i)" mat-icon-button class="mr_1 no_bxsdw"
                              color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button type="button" (click)="removeLectureNote(i)" mat-icon-button class="no_bxsdw"
                              color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- <div class="ck_editor">
                      <ckeditor (ready)="onReady($event)" [(ngModel)]="learning_notes_content"
                        name="learning_notes_content_name" [editor]="Editor" #editor [config]="editorConfig"
                        style="height: 500px"></ckeditor>
                    </div> -->
                </ng-template>
                  </mat-tab>
                  <mat-tab label="High Yield Notes">
                    <ng-template matTabContent>
                    <div class="hyt_mn_dv">
                      <div class="dsh_brd_crds">
                        <mat-form-field appearance="outline" class="w_100p">
                          <input matInput [(ngModel)]="highyield_title" name="highyield_title" placeholder="Title"
                            (blur)="checkHighyieldDuplicate()" />
                        </mat-form-field>
                      </div>
                      <div class="ck_editor" (click)="editorFocused('highyield_editor')">
                        <ckeditor [(ngModel)]="highyield_content" name="highyield_content_name"
                          (ready)="onReady($event)" [editor]="Editor" #highyield_editor [config]="editorConfig"
                          style="height: 500px"></ckeditor>
                      </div>
                      <div class="mt_1 text_right">
                        <button type="button"
                          [disabled]="highyield_title.trim() == '' || highyield_content.trim() == ''"
                          (click)="addHighyield()" mat-raised-button color="accent">
                          <mat-icon>add</mat-icon> Add Notes
                        </button>
                        <!-- <button type="button"
                          [disabled]="highyield_title.trim() == '' || highyield_content.trim() == '' || highyield_title_duplicate"
                          (click)="addHighyield()" mat-raised-button color="accent">
                          <mat-icon>add</mat-icon> Add Notes
                        </button> -->
                      </div>
                    </div>

                    <div class="hyt_aded_nts">
                      <div class="hyt_aded_nts_hd">Added Notes</div>
                      <div *ngFor="let highyield of highyield_obj; let i = index">
                        <div class="hyt_lst_dv" *ngIf="highyield['status'] != 'delete'">
                          <div class="mr_1">{{ highyield["title"] }}</div>
                          <div class="spacer"></div>
                          <div>
                            <button type="button" (click)="editHighyield(i)" mat-icon-button class="mr_1 no_bxsdw"
                              color="accent">
                              <mat-icon>mode_edit</mat-icon>
                            </button>
                          </div>
                          <div>
                            <button type="button" (click)="removeHighyield(i)" mat-icon-button class="no_bxsdw"
                              color="warn">
                              <mat-icon>remove_circle_outline</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    </ng-template>
                  </mat-tab>
                  <mat-tab label="MCQs">
                    <div class="tbbd_bdy px_0">
                      <mat-tab-group (selectedTabChange)="questionsTab($event)" [(selectedIndex)]="question_tab"
                        animationDuration="0.15s">
                        <mat-tab label="All Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'])">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">

                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''

                                " matInput placeholder="Search" />

                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>
                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_mcqs.includes(element['id'])
                                  " (change)="
                                    selectQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank">
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                </a>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell"
                                [attr.colspan]="displayedColumns.length">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator #paginator *ngIf="all_questions.data.length > 0"
                            [pageSizeOptions]="page_size_options" [length]="totalSize" [pageSize]="pageSize"
                            showFirstLastButtons (page)="getServerData($event)"></mat-paginator>
                        </mat-tab>
                        <mat-tab label="Selected Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'])">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''
                                " matInput placeholder="Search" />
                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>
                            </mat-form-field>
                          </div>
                          <table mat-table [dataSource]="all_questions" class="qsp_pp_mn">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_mcqs.includes(element['id'])
                                  " (change)="
                                    selectQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank">
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                </a>

                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell"
                                [attr.colspan]="displayedColumns.length">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator #paginator *ngIf="all_questions.data.length > 0"
                            [pageSizeOptions]="page_size_options" [length]="totalSize" [pageSize]="pageSize"
                            showFirstLastButtons (page)="getServerData($event)"></mat-paginator>
                        </mat-tab>
                      </mat-tab-group>
                    </div>
                  </mat-tab>

                  <mat-tab label="Short Questions">
                    <div class="tbbd_bdy px_0">
                      <mat-tab-group (selectedTabChange)="questionsTab($event)" [(selectedIndex)]="short_answer_tab"
                        animationDuration="0.15s">
                        <mat-tab label="All Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'])">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''
                                " matInput placeholder="Search" />
                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>
                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_short_questions.includes(
                                      element['id']
                                    )
                                  " (change)="
                                    selectQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank">
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                </a>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell" colspan="3">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getServerData($event)"></mat-paginator>
                        </mat-tab>
                        <mat-tab label="Selected Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'])">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''
                              " matInput placeholder="Search" />
                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>

                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_short_questions.includes(
                                      element['id']
                                    )
                                  " (change)="
                                    selectQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank">
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                </a>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell"
                                [attr.colspan]="displayedColumns.length">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getServerData($event)"></mat-paginator>
                        </mat-tab>
                      </mat-tab-group>
                    </div>
                    <!-- <div class="tbbd_bdy px_0">
                      <mat-tab-group>
                        <mat-tab label="Select Questions">
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input matInput placeholder="Search" />
                              <mat-icon matSuffix>search</mat-icon>
                            </mat-form-field>
                          </div>

                          <table
                            mat-table
                            [dataSource]="all_questions"
                            class="qsp_pp_mn whtspc_nml"
                          >
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox color="accent"></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <div class="qsp_hd">
                                  Lorem ipsum dolor sit amet, consetetur
                                  sadipscing elitr, sed
                                </div>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr
                              mat-row
                              *matRowDef="let row; columns: displayedColumns"
                            ></tr>
                          </table>
                        </mat-tab>
                        <mat-tab label="Questions selected previously">
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input matInput placeholder="Search" />
                              <mat-icon matSuffix>search</mat-icon>
                            </mat-form-field>
                          </div>
                          <table
                            mat-table
                            [dataSource]="selected_questions"
                            class="qsp_pp_mn whtspc_nml"
                          >
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox color="accent"></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <div class="qsp_hd">
                                  Lorem ipsum dolor sit amet, consetetur
                                  sadipscing elitr, sed
                                </div>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                View/Edit
                              </td>
                            </ng-container>
                            <tr
                              mat-row
                              *matRowDef="let row; columns: displayedColumns"
                            ></tr>
                          </table>
                        </mat-tab>
                      </mat-tab-group>
                    </div> -->
                  </mat-tab>
                  <mat-tab label="Cases">
                    <div class="tbbd_bdy px_0">
                      <mat-tab-group (selectedTabChange)="questionsTab($event)" [(selectedIndex)]="case_tab"
                        animationDuration="0.15s">
                        <mat-tab label="All Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'])">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''
                                " matInput placeholder="Search" />

                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>

                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_cases.includes(element['id'])
                                  " (change)="
                                    selectQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank">
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                </a>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell" colspan="3">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getServerData($event)"></mat-paginator>
                        </mat-tab>
                        <mat-tab label="Selected Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'])">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''
                                " matInput placeholder="Search" />
                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>
                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_cases.includes(element['id'])
                                  " (change)="
                                    selectQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank">
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                </a>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell"
                                [attr.colspan]="displayedColumns.length">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getServerData($event)"></mat-paginator>
                        </mat-tab>
                      </mat-tab-group>
                    </div>
                  </mat-tab>

                  <mat-tab label="Related Topics" *ngIf="false">
                    <div class="cc_row">
                      <mat-form-field appearance="outline" class="page_title_input">
                        <input matInput placeholder="Search topics" />
                        <mat-icon matSuffix>search</mat-icon>
                      </mat-form-field>
                      <hr />
                      <!-- Inserted questions -->
                      <div class="qtns_block insrtd_qtns">
                        <div>
                          <span>It is a long established fact that a reader will be
                            distracted by the readable content of a page when
                            looking at its layout.
                          </span>
                        </div>
                        <div class="edit_options">
                          <mat-icon class="d_none">edit</mat-icon>
                          <mat-icon>remove_circle_outline</mat-icon>
                        </div>
                      </div>
                      <hr />
                      <div class="qtns_block insrtd_qtns">
                        <div>
                          <span>It is a long established fact that a reader will be
                            distracted by the readable content of a page when
                            looking at its layout.
                          </span>
                        </div>
                        <div class="edit_options">
                          <mat-icon class="d_none">edit</mat-icon>
                          <mat-icon>remove_circle_outline</mat-icon>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                  <mat-tab label="External References">
                    <ng-template matTabContent>
                    <div class="ck_editor" (click)="editorFocused('external_editor')">
                      <ckeditor [(ngModel)]="external_ref_content" name="external_ref_content_name"
                        (ready)="onReady($event)" [editor]="Editor" #external_editor [config]="editorConfig"
                        style="height: 500px"></ckeditor>
                    </div>
                    </ng-template>
                  </mat-tab>

                  <!--Flash Cards added by Phanindra-->
                  <mat-tab label="Flash Cards">
                    <div class="tbbd_bdy px_0">
                      <mat-tab-group (selectedTabChange)="flashCardTab($event)" [(selectedIndex)]="flashcard_tab"
                        animationDuration="0.15s">
                        <mat-tab label="All Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels('flashCardTab')">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'],'flashCardTab')">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchFlashCardQuestions() : ''
                                " matInput placeholder="Search" />

                              <mat-icon matSuffix (click)="searchFlashCardQuestions()">search</mat-icon>

                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="flash_card_all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element" class="w_50px">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_flash_cards.includes(element['id'])
                                  " (change)="
                                    selectFlashCardQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <!-- <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank"> -->
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                <!-- </a> -->
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell" colspan="3">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="flash_card_all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getFlashCardServerData($event)"></mat-paginator>
                        </mat-tab>
                        <mat-tab label="Selected Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels()">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'],'flashCardTab')">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchQuestions() : ''
                                " matInput placeholder="Search" />
                              <mat-icon matSuffix (click)="searchQuestions()">search</mat-icon>
                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="flash_card_all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element" class="w_50px">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_flash_cards.includes(element['id'])
                                  " (change)="
                                  selectFlashCardQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <!-- <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank"> -->
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                <!-- </a> -->
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell"
                                [attr.colspan]="displayedColumns.length">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="flash_card_all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getFlashCardServerData($event)"></mat-paginator>
                        </mat-tab>
                      </mat-tab-group>
                    </div>
                  </mat-tab>

                  <!--Teacher Materials added by Phanindra-->
                  <mat-tab label="Teacher Materials">
                    <div class="tbbd_bdy px_0">
                      <mat-tab-group (selectedTabChange)="teacherMaterialTab($event)" [(selectedIndex)]="teachermaterials_tab"
                        animationDuration="0.15s">
                        <mat-tab label="All Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels('teacherMaterialTab')">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'],'teacherMaterialTab')">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchteacherMaterialQuestions() : ''
                                " matInput placeholder="Search" />

                              <mat-icon matSuffix (click)="searchteacherMaterialQuestions()">search</mat-icon>

                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="teacher_materials_all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element" class="w_50px">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_teacher_materials.includes(element['id'])
                                  " (change)="
                                    selectTeacherMaterialQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <!-- <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank"> -->
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                <!-- </a> -->
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell" colspan="3">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="teacher_materials_all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getTeacherMaterialServerData($event)"></mat-paginator>
                        </mat-tab>
                        <mat-tab label="Selected Questions">
                          <div class="cm_fltr_sc mr_1" *ngIf="curriculum_list != undefined">
                            <div class="clear_fix"></div>
                            <div>Select Course</div>
                            <mat-form-field appearance="outline">
                              <mat-select [(ngModel)]="filter_array.curriculum_id" name="filter_array_curriculum_id"
                                placeholder="Select Course" (ngModelChange)="getLabels('teacherMaterialTab')">
                                <mat-option *ngFor="let value of curriculum_list" [value]="value['pk_id']"
                                  [matTooltip]="value['curriculumn_name']">{{ value["curriculumn_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="cm_fltr_sc mr_1" *ngFor="let value of curriculum_labels; let i = index">
                            <span>{{ ucFirst(value["display_label"]) }}</span>
                            <div class="clear_fix"></div>
                            <mat-form-field appearance="outline">
                              <mat-select placeholder="Select {{ ucFirst(value['display_label']) }}"
                                name="selected_level_{{value['level_number']}}"
                                [(ngModel)]="selected_level[value['level_number']]"
                                (selectionChange)="getLevels(value['level_number'],'teacherMaterialTab')">
                                <mat-option>
                                  <ngx-mat-select-search name="selected_level_search_{{value['level_number']}}"
                                    [noEntriesFoundLabel]="'No '+ ucFirst(value['display_label'])+' found'"
                                    name="search_topic" ngModel
                                    (ngModelChange)="searchLevelByName($event,value['level_number'])"
                                    [placeholderLabel]="'Search '+ucFirst(value['display_label'])">Select
                                    {{ucFirst(value['display_label'])}}
                                  </ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let level of level_options[value['level_number']]"
                                  [value]="level['pk_id']" [matTooltip]="level['level_name']">{{level["level_name"] }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="dsh_brd_crds">
                            <mat-form-field appearance="outline" class="w_100p">
                              <input [(ngModel)]="search_question" name="search_question" (keyup)="
                                  $event.keyCode == 13 ? searchteacherMaterialQuestions() : ''
                                " matInput placeholder="Search" />
                              <mat-icon matSuffix (click)="searchteacherMaterialQuestions()">search</mat-icon>
                            </mat-form-field>
                          </div>

                          <table mat-table [dataSource]="teacher_materials_all_questions" class="qsp_pp_mn whtspc_nml">
                            <ng-container matColumnDef="s_no">
                              <td mat-cell *matCellDef="let element" class="w_50px">
                                <mat-checkbox [value]="element['id']" [checked]="
                                    selected_teacher_materials.includes(element['id'])
                                  " (change)="
                                  selectTeacherMaterialQuestion($event, element['id'])
                                  "></mat-checkbox>
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="question">
                              <td mat-cell *matCellDef="let element">
                                <!-- <a [href]="getNavigateTo('questions-mgt/edit-question/'+element['id'])" target="_blank"> -->
                                  <div class="qsp_hd" [innerHtml]="element['question']"></div>
                                <!-- </a> -->
                              </td>
                            </ng-container>
                            <ng-container matColumnDef="action">
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                            <tr class="mat-row no_rcrds_fd" *matNoDataRow>
                              <td style="text-align: center; margin: 20px" class="mat-cell"
                                [attr.colspan]="displayedColumns.length">
                                <span *ngIf="!loading_questions">No Records Found</span>
                              </td>
                            </tr>
                          </table>
                          <mat-paginator *ngIf="teacher_materials_all_questions.data.length > 0" [pageSizeOptions]="page_size_options"
                            [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons
                            (page)="getTeacherMaterialServerData($event)"></mat-paginator>
                        </mat-tab>
                      </mat-tab-group>
                    </div>
                  </mat-tab>


                </mat-tab-group>
              </div>
            </div>
          </div>
        </div>

        <!-- Bottom buttons  -->
        <div class="page_buttons">
          <div *ngIf="content_id >0 && is_published == '1'">
            <a target="_blank" href="student/content-preview/{{content_id}}" class="yellow_btn ml_1" type="button"
              mat-raised-button>
              Preview
            </a>
          </div>
          <div
            *ngIf="(is_published != '1') && ((user['role'] == '1')  || (dataentry_uid == user['id'] || is_draft == false) && (content_id == 0 || content_reviewer_role == '0' || user['role'] == content_reviewer_role))">
            <button (click)="savePreview()" class="yellow_btn ml_1" type="button" mat-raised-button>
              Save & Preview
            </button>
          </div>
          <div
            *ngIf="(content_id == 0 || content_reviewer_role == '0') && is_published != '1' && (dataentry_uid == user['id'] || is_draft == false)">
            <button class="gry_btn ml_1" type="button" mat-raised-button (click)="createContent(true)">
              Save as draft
            </button>
          </div>
          <div>
            <button type="button" (click)="navigateTo('manage-content')" mat-raised-button color="warn" class="ml_1">
              Cancel
            </button>
          </div>
          <div
            *ngIf="is_published != '1' && (is_draft == false || dataentry_uid == user['id']) && (content_id == 0 || content_reviewer_role == '0' || user['role'] == content_reviewer_role)">
            <button class="gry_btn ml_1" type="button" color="accent" mat-raised-button (click)="selectReviewer()">
              Send To Review
            </button>
          </div>
          <div *ngIf="is_published == '1' && content_parent_id == 0">
            <button class="gry_btn ml_1" mwlConfirmationPopover [popoverTitle]="'Are you sure?'" [popoverMessage]="
              'Are you sure to create a new copy of this published content '
            " placement="left" (confirm)="createContent(false)" confirmButtonType="danger"
              cancelButtonType="outline-secondary" type="button" mat-raised-button>
              Make a Copy
            </button>
          </div>
          <div *ngIf="((user['role'] == '7' && user['role']+'' == ''+content_reviewer_role) || (user['role'] == '7' && content_id == 0) || (user['role'] == '7' && dataentry_uid == user['id']) || user['role'] == '1') && (content_parent_id == 0) && (is_published != '1')">
            <button
              
              type="button" mat-raised-button color="accent" class="ml_1" (click)="schdule_publish=true">
              Schedule Publish
            </button>
          </div>
          <div *ngIf="((user['role'] == '7' && user['role']+'' == ''+content_reviewer_role) || (user['role'] == '7' && content_id == 0) || (user['role'] == '7' && dataentry_uid == user['id']) || user['role'] == '1')">
            <button 
              type="button" mwlConfirmationPopover [popoverTitle]="'Are you sure?'" [popoverMessage]="
                'Are you sure to Publish this content '+ publish_message
              " placement="left" (confirm)="publishContent()" confirmButtonType="danger"
              cancelButtonType="outline-secondary" mat-raised-button color="accent" class="ml_1">
              Save &amp; Publish
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>